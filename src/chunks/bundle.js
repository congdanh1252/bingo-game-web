System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///_virtual/nakama-js.esm.mjs",["./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,r=e.regeneratorRuntime,n=e.createClass}],execute:function(){var s,i,o,a=Object.create,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=function(e,t,r){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},w=function(e,r){for(var n in r||(r={}))l.call(r,n)&&m(e,n,r[n]);if(d)for(var s,i=t(d(r));!(s=i()).done;){n=s.value;p.call(r,n)&&m(e,n,r[n])}return e},v=function(e,t,r){return new Promise((function(n,s){var i=function(e){try{a(r.next(e))}catch(e){s(e)}},o=function(e){try{a(r.throw(e))}catch(e){s(e)}},a=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(i,o)};a((r=r.apply(e,t)).next())}))},b=(function(e,r,n){n=null!=e?a(f(e)):{},function(e,r,n,s){if(r&&"object"==typeof r||"function"==typeof r)for(var i,o=function(){var t=i.value;l.call(e,t)||t===n||u(e,t,{get:function(){return r[t]},enumerable:!(s=c(r,t))||s.enumerable})},a=t(h(r));!(i=a()).done;)o()}(!r&&e&&e.__esModule?n:u(n,"default",{value:e,enumerable:!0}),e)}((s={"node_modules/whatwg-fetch/fetch.js":function(e){!function(e){if(!e.fetch){var t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,i="ArrayBuffer"in e;if(i)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=d(e),t=f(t);var r=this.map[e];this.map[e]=r?r+","+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=f(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},_.call(k.prototype),_.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var h=[301,302,303,307,308];y.redirect=function(e,t){if(-1===h.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=k,e.Response=y,e.fetch=function(e,t){return new Promise((function(r,s){var i=new k(e,t),o=new XMLHttpRequest;o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var s=r.join(":").trim();t.append(n,s)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;r(new y(s,n))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&n&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),o.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function w(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=w(t);return t.readAsArrayBuffer(e),r}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(s&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&n&&a(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=m(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=w(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(e,t){var r,n,s=(t=t||{}).body;if(e instanceof k){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),c.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(s))}})),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:e)}},function(){return i||(0,s[h(s)[0]])((i={exports:{}}).exports,i),i.exports})()),"function"==typeof atob),_="function"==typeof btoa,k="function"==typeof Buffer,x=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),y=[].concat("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),g=(o={},y.forEach((function(e,t){return o[e]=t})),o),P=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,S=String.fromCharCode.bind(String),R=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),_?function(e){return btoa(e)}:k?function(e){return Buffer.from(e,"binary").toString("base64")}:function(e){for(var t,r,n,s,i="",o=e.length%3,a=0;a<e.length;){if((r=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(s=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");i+=y[(t=r<<16|n<<8|s)>>18&63]+y[t>>12&63]+y[t>>6&63]+y[63&t]}return o?i.slice(0,o-3)+"===".substring(o):i}),T=k?function(e){return Buffer.from(e).toString("base64")}:function(e){for(var t=[],r=0,n=e.length;r<n;r+=4096)t.push(S.apply(null,e.subarray(r,r+4096)));return R(t.join(""))},M=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?S(192|t>>>6)+S(128|63&t):S(224|t>>>12&15)+S(128|t>>>6&63)+S(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return S(240|t>>>18&7)+S(128|t>>>12&63)+S(128|t>>>6&63)+S(128|63&t)},O=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,U=k?function(e){return Buffer.from(e,"utf8").toString("base64")}:x?function(e){return T(x.encode(e))}:function(e){return R(e.replace(O,M))},C=function(e,t){return void 0===t&&(t=!1),t?function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=+$/m,"")}(U(e)):U(e)},E=b?function(e){return atob(e.replace(/[^A-Za-z0-9\+\/]/g,""))}:k?function(e){return Buffer.from(e,"base64").toString("binary")}:function(e){if(e=e.replace(/\s+/g,""),!P.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,r,n,s="",i=0;i<e.length;)t=g[e.charAt(i++)]<<18|g[e.charAt(i++)]<<12|(r=g[e.charAt(i++)])<<6|(n=g[e.charAt(i++)]),s+=64===r?S(t>>16&255):64===n?S(t>>16&255,t>>8&255):S(t>>16&255,t>>8&255,255&t);return s};function A(e,t,r){var n=w(w({},{method:e}),t);n.headers=w({},t.headers);var s=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");return(null==s?void 0:s.set)||(n.credentials="cocos-ignore"),Object.keys(n.headers).includes("Accept")||(n.headers.Accept="application/json"),Object.keys(n.headers).includes("Content-Type")||(n.headers["Content-Type"]="application/json"),Object.keys(n.headers).forEach((function(e){n.headers[e]||delete n.headers[e]})),r&&(n.body=r),n}var q,N=function(){function e(e,t,r){this.serverKey=e,this.basePath=t,this.timeoutMs=r}var r=e.prototype;return r.healthcheck=function(e,t){var r=this;void 0===t&&(t={});var n=new Map,s=this.buildFullUrl(this.basePath,"/healthcheck",n),i=A("GET",t,"");return e&&(i.headers.Authorization="Bearer "+e),Promise.race([fetch(s,i).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,r.timeoutMs,"Request timed out.")}))])},r.getAccount=function(e,t){var r=this;void 0===t&&(t={});var n=new Map,s=this.buildFullUrl(this.basePath,"/v2/account",n),i=A("GET",t,"");return e&&(i.headers.Authorization="Bearer "+e),Promise.race([fetch(s,i).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,r.timeoutMs,"Request timed out.")}))])},r.updateAccount=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account",i),a=A("PUT",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.authenticateApple=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateCustom=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateDevice=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateEmail=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateFacebook=function(e,t,r,n,s,i,o){var a=this;if(void 0===o&&(o={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var u=new Map;u.set("create",n),u.set("username",s),u.set("sync",i);var c;c=JSON.stringify(r||{});var h=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",u),d=A("POST",o,c);return d.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,a.timeoutMs,"Request timed out.")}))])},r.authenticateFacebookInstantGame=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateGameCenter=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateGoogle=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map;a.set("create",n),a.set("username",s);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",a),h=A("POST",i,u);return h.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.authenticateSteam=function(e,t,r,n,s,i,o){var a=this;if(void 0===o&&(o={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var u=new Map;u.set("create",n),u.set("username",s),u.set("sync",i);var c;c=JSON.stringify(r||{});var h=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",u),d=A("POST",o,c);return d.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,a.timeoutMs,"Request timed out.")}))])},r.linkApple=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/apple",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkCustom=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/custom",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkDevice=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/device",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkEmail=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/email",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkFacebook=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map;i.set("sync",r);var o;o=JSON.stringify(t||{});var a=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",i),u=A("POST",n,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.linkFacebookInstantGame=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkGameCenter=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkGoogle=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/google",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.linkSteam=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/link/steam",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.sessionRefresh=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==r)throw new Error("'body' is a required parameter but is null or undefined.");var i,o=new Map;i=JSON.stringify(r||{});var a=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",o),u=A("POST",n,i);return u.headers.Authorization="Basic "+C(e+":"+t),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.unlinkApple=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkCustom=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkDevice=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkEmail=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkFacebook=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkFacebookInstantGame=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkGameCenter=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkGoogle=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.unlinkSteam=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.listChannelMessages=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'channelId' is a required parameter but is null or undefined.");var a="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(t))),u=new Map;u.set("limit",r),u.set("forward",n),u.set("cursor",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.event=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/event",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.deleteFriends=function(e,t,r,n){var s=this;void 0===n&&(n={});var i=new Map;i.set("ids",t),i.set("usernames",r);var o=this.buildFullUrl(this.basePath,"/v2/friend",i),a=A("DELETE",n,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.listFriends=function(e,t,r,n,s){var i=this;void 0===s&&(s={});var o=new Map;o.set("limit",t),o.set("state",r),o.set("cursor",n);var a=this.buildFullUrl(this.basePath,"/v2/friend",o),u=A("GET",s,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,i.timeoutMs,"Request timed out.")}))])},r.addFriends=function(e,t,r,n){var s=this;void 0===n&&(n={});var i=new Map;i.set("ids",t),i.set("usernames",r);var o=this.buildFullUrl(this.basePath,"/v2/friend",i),a=A("POST",n,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.blockFriends=function(e,t,r,n){var s=this;void 0===n&&(n={});var i=new Map;i.set("ids",t),i.set("usernames",r);var o=this.buildFullUrl(this.basePath,"/v2/friend/block",i),a=A("POST",n,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.importFacebookFriends=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map;i.set("reset",r);var o;o=JSON.stringify(t||{});var a=this.buildFullUrl(this.basePath,"/v2/friend/facebook",i),u=A("POST",n,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.importSteamFriends=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map;i.set("reset",r);var o;o=JSON.stringify(t||{});var a=this.buildFullUrl(this.basePath,"/v2/friend/steam",i),u=A("POST",n,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.listGroups=function(e,t,r,n,s,i,o,a){var u=this;void 0===a&&(a={});var c=new Map;c.set("name",t),c.set("cursor",r),c.set("limit",n),c.set("lang_tag",s),c.set("members",i),c.set("open",o);var h=this.buildFullUrl(this.basePath,"/v2/group",c),d=A("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,u.timeoutMs,"Request timed out.")}))])},r.createGroup=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/group",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.deleteGroup=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var s="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,o=this.buildFullUrl(this.basePath,s,i),a=A("DELETE",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.updateGroup=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var i,o="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),a=new Map;i=JSON.stringify(r||{});var u=this.buildFullUrl(this.basePath,o,a),c=A("PUT",n,i);return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.addGroupUsers=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var i="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(t))),o=new Map;o.set("user_ids",r);var a=this.buildFullUrl(this.basePath,i,o),u=A("POST",n,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.banGroupUsers=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var i="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(t))),o=new Map;o.set("user_ids",r);var a=this.buildFullUrl(this.basePath,i,o),u=A("POST",n,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.demoteGroupUsers=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'userIds' is a required parameter but is null or undefined.");var i="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(t))),o=new Map;o.set("user_ids",r);var a=this.buildFullUrl(this.basePath,i,o),u=A("POST",n,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.joinGroup=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var s="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,o=this.buildFullUrl(this.basePath,s,i),a=A("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.kickGroupUsers=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var i="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(t))),o=new Map;o.set("user_ids",r);var a=this.buildFullUrl(this.basePath,i,o),u=A("POST",n,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.leaveGroup=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var s="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,o=this.buildFullUrl(this.basePath,s,i),a=A("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.promoteGroupUsers=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var i="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(t))),o=new Map;o.set("user_ids",r);var a=this.buildFullUrl(this.basePath,i,o),u=A("POST",n,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.listGroupUsers=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");var a="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(t))),u=new Map;u.set("limit",r),u.set("state",n),u.set("cursor",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.validatePurchaseApple=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.validatePurchaseGoogle=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.validatePurchaseHuawei=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.deleteLeaderboardRecord=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");var s="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),i=new Map,o=this.buildFullUrl(this.basePath,s,i),a=A("DELETE",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.listLeaderboardRecords=function(e,t,r,n,s,i,o){var a=this;if(void 0===o&&(o={}),null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");var u="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),c=new Map;c.set("owner_ids",r),c.set("limit",n),c.set("cursor",s),c.set("expiry",i);var h=this.buildFullUrl(this.basePath,u,c),d=A("GET",o,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,a.timeoutMs,"Request timed out.")}))])},r.writeLeaderboardRecord=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var i,o="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),a=new Map;i=JSON.stringify(r||{});var u=this.buildFullUrl(this.basePath,o,a),c=A("POST",n,i);return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.listLeaderboardRecordsAroundOwner=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'ownerId' is a required parameter but is null or undefined.");var a="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(r))),u=new Map;u.set("limit",n),u.set("expiry",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.listMatches=function(e,t,r,n,s,i,o,a){var u=this;void 0===a&&(a={});var c=new Map;c.set("limit",t),c.set("authoritative",r),c.set("label",n),c.set("min_size",s),c.set("max_size",i),c.set("query",o);var h=this.buildFullUrl(this.basePath,"/v2/match",c),d=A("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,u.timeoutMs,"Request timed out.")}))])},r.deleteNotifications=function(e,t,r){var n=this;void 0===r&&(r={});var s=new Map;s.set("ids",t);var i=this.buildFullUrl(this.basePath,"/v2/notification",s),o=A("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(i,o).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.listNotifications=function(e,t,r,n){var s=this;void 0===n&&(n={});var i=new Map;i.set("limit",t),i.set("cacheable_cursor",r);var o=this.buildFullUrl(this.basePath,"/v2/notification",i),a=A("GET",n,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.rpcFunc2=function(e,t,r,n,s){var i=this;if(void 0===s&&(s={}),null==t)throw new Error("'id' is a required parameter but is null or undefined.");var o="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),a=new Map;a.set("payload",r),a.set("http_key",n);var u=this.buildFullUrl(this.basePath,o,a),c=A("GET",s,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,i.timeoutMs,"Request timed out.")}))])},r.rpcFunc=function(e,t,r,n,s){var i=this;if(void 0===s&&(s={}),null==t)throw new Error("'id' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var o="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),a=new Map;a.set("http_key",n);var u;u=JSON.stringify(r||{});var c=this.buildFullUrl(this.basePath,o,a),h=A("POST",s,u);return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,i.timeoutMs,"Request timed out.")}))])},r.sessionLogout=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/session/logout",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.readStorageObjects=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/storage",i),a=A("POST",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.writeStorageObjects=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/storage",i),a=A("PUT",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.deleteStorageObjects=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'body' is a required parameter but is null or undefined.");var s,i=new Map;s=JSON.stringify(t||{});var o=this.buildFullUrl(this.basePath,"/v2/storage/delete",i),a=A("PUT",r,s);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.listStorageObjects=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'collection' is a required parameter but is null or undefined.");var a="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(t))),u=new Map;u.set("user_id",r),u.set("limit",n),u.set("cursor",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.listStorageObjects2=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==r)throw new Error("'userId' is a required parameter but is null or undefined.");var a="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(t))).replace("{userId}",encodeURIComponent(String(r))),u=new Map;u.set("limit",n),u.set("cursor",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.listTournaments=function(e,t,r,n,s,i,o,a){var u=this;void 0===a&&(a={});var c=new Map;c.set("category_start",t),c.set("category_end",r),c.set("start_time",n),c.set("end_time",s),c.set("limit",i),c.set("cursor",o);var h=this.buildFullUrl(this.basePath,"/v2/tournament",c),d=A("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,u.timeoutMs,"Request timed out.")}))])},r.listTournamentRecords=function(e,t,r,n,s,i,o){var a=this;if(void 0===o&&(o={}),null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");var u="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),c=new Map;c.set("owner_ids",r),c.set("limit",n),c.set("cursor",s),c.set("expiry",i);var h=this.buildFullUrl(this.basePath,u,c),d=A("GET",o,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,a.timeoutMs,"Request timed out.")}))])},r.writeTournamentRecord2=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var i,o="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),a=new Map;i=JSON.stringify(r||{});var u=this.buildFullUrl(this.basePath,o,a),c=A("POST",n,i);return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.writeTournamentRecord=function(e,t,r,n){var s=this;if(void 0===n&&(n={}),null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var i,o="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),a=new Map;i=JSON.stringify(r||{});var u=this.buildFullUrl(this.basePath,o,a),c=A("PUT",n,i);return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,s.timeoutMs,"Request timed out.")}))])},r.joinTournament=function(e,t,r){var n=this;if(void 0===r&&(r={}),null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");var s="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(t))),i=new Map,o=this.buildFullUrl(this.basePath,s,i),a=A("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,n.timeoutMs,"Request timed out.")}))])},r.listTournamentRecordsAroundOwner=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'ownerId' is a required parameter but is null or undefined.");var a="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(r))),u=new Map;u.set("limit",n),u.set("expiry",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.getUsers=function(e,t,r,n,s){var i=this;void 0===s&&(s={});var o=new Map;o.set("ids",t),o.set("usernames",r),o.set("facebook_ids",n);var a=this.buildFullUrl(this.basePath,"/v2/user",o),u=A("GET",s,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,i.timeoutMs,"Request timed out.")}))])},r.listUserGroups=function(e,t,r,n,s,i){var o=this;if(void 0===i&&(i={}),null==t)throw new Error("'userId' is a required parameter but is null or undefined.");var a="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(t))),u=new Map;u.set("limit",r),u.set("state",n),u.set("cursor",s);var c=this.buildFullUrl(this.basePath,a,u),h=A("GET",i,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(c,h).then((function(e){if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise((function(e,t){return setTimeout(t,o.timeoutMs,"Request timed out.")}))])},r.buildFullUrl=function(e,r,n){for(var s,i=e+r+"?",o=function(){var e=s.value,t=e[0],r=e[1];r instanceof Array?i+=r.reduce((function(e,r){return e+encodeURIComponent(t)+"="+encodeURIComponent(r)+"&"}),""):null!=r&&(i+=encodeURIComponent(t)+"="+encodeURIComponent(r)+"&")},a=t(n);!(s=a()).done;)o();return i},e}(),j=e("Session",function(){function e(e,t,r){this.created=r,this.token=e,this.refresh_token=t,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(e,t)}var t=e.prototype;return t.isexpired=function(e){return this.expires_at-e<0},t.isrefreshexpired=function(e){return this.refresh_expires_at-e<0},t.update=function(e,t){var r=e.split(".");if(3!=r.length)throw"jwt is not valid.";var n=JSON.parse(E(r[1])),s=Math.floor(parseInt(n.exp));if(t){var i=t.split(".");if(3!=i.length)throw"refresh jwt is not valid.";var o=JSON.parse(E(i[1])),a=Math.floor(parseInt(o.exp));this.refresh_expires_at=a,this.refresh_token=t}this.token=e,this.expires_at=s,this.username=n.usn,this.user_id=n.uid,this.vars=n.vrs},e.restore=function(t,r){return new e(t,r,!1)},e}()),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(q=0;q<F.length;q++)I[F.charCodeAt(q)]=q;var B=function(e){var t,r=new Uint8Array(e),n=r.length,s="";for(t=0;t<n;t+=3)s+=F[r[t]>>2],s+=F[(3&r[t])<<4|r[t+1]>>4],s+=F[(15&r[t+1])<<2|r[t+2]>>6],s+=F[63&r[t+2]];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s},D=function(e){var t,r,n,s,i,o=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),h=new Uint8Array(c);for(t=0;t<a;t+=4)r=I[e.charCodeAt(t)],n=I[e.charCodeAt(t+1)],s=I[e.charCodeAt(t+2)],i=I[e.charCodeAt(t+3)],h[u++]=r<<2|n>>4,h[u++]=(15&n)<<4|s>>2,h[u++]=(3&s)<<6|63&i;return c},z=e("WebSocketAdapterText",function(){function e(){this._isConnected=!1}var t=e.prototype;return t.connect=function(e,t,r,n,s){var i=""+e+t+":"+r+"/ws?lang=en&status="+encodeURIComponent(n.toString())+"&token="+encodeURIComponent(s);this._socket=new WebSocket(i),this._isConnected=!0},t.close=function(){this._isConnected=!1,this._socket.close(),this._socket=void 0},t.send=function(e){if(e.match_data_send){e.match_data_send.op_code=e.match_data_send.op_code.toString();var t=e.match_data_send.data;t&&t instanceof Uint8Array?e.match_data_send.data=B(t.buffer):t&&(e.match_data_send.data=R(t))}else if(e.party_data_send){e.party_data_send.op_code=e.party_data_send.op_code.toString();var r=e.party_data_send.data;r&&r instanceof Uint8Array?e.party_data_send.data=B(r.buffer):r&&(e.party_data_send.data=R(r))}this._socket.send(JSON.stringify(e))},n(e,[{key:"onClose",get:function(){return this._socket.onclose},set:function(e){this._socket.onclose=e}},{key:"onError",get:function(){return this._socket.onerror},set:function(e){this._socket.onerror=e}},{key:"onMessage",get:function(){return this._socket.onmessage},set:function(e){e?this._socket.onmessage=function(t){var r=JSON.parse(t.data);r.match_data&&r.match_data.data?r.match_data.data=new Uint8Array(D(r.match_data.data)):r.party_data&&r.party_data.data&&(r.party_data.data=new Uint8Array(D(r.party_data.data))),e(r)}:e=null}},{key:"onOpen",get:function(){return this._socket.onopen},set:function(e){this._socket.onopen=e}},{key:"isConnected",get:function(){return this._isConnected}}]),e}()),G=e("DefaultSocket",function(){function e(e,t,r,n,s){void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===s&&(s=new z),this.host=e,this.port=t,this.useSSL=r,this.verbose=n,this.adapter=s,this.cIds={},this.nextCid=1}var t=e.prototype;return t.generatecid=function(){var e=this.nextCid.toString();return++this.nextCid,e},t.connect=function(e,t){var r=this;if(void 0===t&&(t=!1),this.adapter.isConnected)return Promise.resolve(e);var n=this.useSSL?"wss://":"ws://";return this.adapter.connect(n,this.host,this.port,t,e.token),this.adapter.onClose=function(e){r.ondisconnect(e)},this.adapter.onError=function(e){r.onerror(e)},this.adapter.onMessage=function(e){if(r.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(e)),e.cid){var t=r.cIds[e.cid];if(!t)return void(r.verbose&&window&&window.console&&console.error("No promise executor for message: %o",e));delete r.cIds[e.cid],e.error?t.reject(e.error):t.resolve(e)}else e.notifications?e.notifications.notifications.forEach((function(e){e.content=e.content?JSON.parse(e.content):void 0,r.onnotification(e)})):e.match_data?(e.match_data.op_code=parseInt(e.match_data.op_code),r.onmatchdata(e.match_data)):e.match_presence_event?r.onmatchpresence(e.match_presence_event):e.matchmaker_ticket?r.onmatchmakerticket(e.matchmaker_ticket):e.matchmaker_matched?r.onmatchmakermatched(e.matchmaker_matched):e.status_presence_event?r.onstatuspresence(e.status_presence_event):e.stream_presence_event?r.onstreampresence(e.stream_presence_event):e.stream_data?r.onstreamdata(e.stream_data):e.channel_message?(e.channel_message.content=JSON.parse(e.channel_message.content),r.onchannelmessage(e.channel_message)):e.channel_presence_event?r.onchannelpresence(e.channel_presence_event):e.party_data?(e.party_data.op_code=parseInt(e.party_data.op_code),r.onpartydata(e.party_data)):e.on_party_close?r.onpartyclose():e.party_join_request?r.onpartyjoinrequest(e.party_join_request):e.party_leader?r.onpartyleader(e.party_leader):e.party_matchmaker_ticket?r.onpartymatchmakerticket(e.party_matchmaker_ticket):e.party_presence_event?r.onpartypresence(e.party_presence_event):e.party?r.onparty(e.party):r.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",e)},new Promise((function(t,n){r.adapter.onOpen=function(n){r.verbose&&window&&window.console&&console.log(n),t(e)},r.adapter.onError=function(e){n(e),r.adapter.close()}}))},t.disconnect=function(e){void 0===e&&(e=!0),this.adapter.isConnected&&this.adapter.close(),e&&this.ondisconnect({})},t.ondisconnect=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onerror=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onchannelmessage=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onchannelpresence=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onnotification=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onmatchdata=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onmatchpresence=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onmatchmakerticket=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onmatchmakermatched=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onparty=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onpartyclose=function(){this.verbose&&window&&window.console&&console.log("Party closed.")},t.onpartyjoinrequest=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onpartydata=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onpartyleader=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onpartymatchmakerticket=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onpartypresence=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onstatuspresence=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onstreampresence=function(e){this.verbose&&window&&window.console&&console.log(e)},t.onstreamdata=function(e){this.verbose&&window&&window.console&&console.log(e)},t.send=function(e){var t=this,r=e;return new Promise((function(e,n){if(t.adapter.isConnected)if(r.match_data_send)t.adapter.send(r),e();else if(r.party_data_send)t.adapter.send(r),e();else{r.channel_message_send?r.channel_message_send.content=JSON.stringify(r.channel_message_send.content):r.channel_message_update&&(r.channel_message_update.content=JSON.stringify(r.channel_message_update.content));var s=t.generatecid();t.cIds[s]={resolve:e,reject:n},r.cid=s,t.adapter.send(r)}else n("Socket connection has not been established yet.");t.verbose&&window&&window.console&&console.log("Sent message: %o",JSON.stringify(r))}))},t.acceptPartyMember=function(e,t){return this.send({party_accept:{party_id:e,presence:t}})},t.addMatchmaker=function(e,t,n,s,i){return v(this,null,r().mark((function o(){var a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({matchmaker_add:{min_count:t,max_count:n,query:e,string_properties:s,numeric_properties:i}});case 2:return a=r.sent,r.abrupt("return",a.matchmaker_ticket);case 4:case"end":return r.stop()}}),o,this)})))},t.addMatchmakerParty=function(e,t,n,s,i,o){return v(this,null,r().mark((function a(){var u;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({party_matchmaker_add:{party_id:e,min_count:n,max_count:s,query:t,string_properties:i,numeric_properties:o}});case 2:return u=r.sent,r.abrupt("return",u.party_matchmaker_ticket);case 4:case"end":return r.stop()}}),a,this)})))},t.closeParty=function(e){return v(this,null,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({party_close:{party_id:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},t.createMatch=function(){return v(this,null,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send({match_create:{}});case 2:return t=e.sent,e.abrupt("return",t.match);case 4:case"end":return e.stop()}}),e,this)})))},t.createParty=function(e,t){return v(this,null,r().mark((function n(){var s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({party_create:{open:e,max_size:t}});case 2:return s=r.sent,r.abrupt("return",s.party);case 4:case"end":return r.stop()}}),n,this)})))},t.followUsers=function(e){return v(this,null,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({status_follow:{user_ids:e}});case 2:return n=t.sent,t.abrupt("return",n.status);case 4:case"end":return t.stop()}}),t,this)})))},t.joinChat=function(e,t,n,s){return v(this,null,r().mark((function i(){var o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({channel_join:{target:e,type:t,persistence:n,hidden:s}});case 2:return o=r.sent,r.abrupt("return",o.channel);case 4:case"end":return r.stop()}}),i,this)})))},t.joinMatch=function(e,t,n){return v(this,null,r().mark((function s(){var i,o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={match_join:{metadata:n}},t?i.match_join.token=t:i.match_join.match_id=e,r.next=4,this.send(i);case 4:return o=r.sent,r.abrupt("return",o.match);case 6:case"end":return r.stop()}}),s,this)})))},t.joinParty=function(e){return v(this,null,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({party_join:{party_id:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))},t.leaveChat=function(e){return this.send({channel_leave:{channel_id:e}})},t.leaveMatch=function(e){return this.send({match_leave:{match_id:e}})},t.leaveParty=function(e){return this.send({party_leave:{party_id:e}})},t.listPartyJoinRequests=function(e){return v(this,null,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({party_join_request_list:{party_id:e}});case 2:return n=t.sent,t.abrupt("return",n.party_join_request);case 4:case"end":return t.stop()}}),t,this)})))},t.promotePartyMember=function(e,t){return v(this,null,r().mark((function n(){var s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({party_promote:{party_id:e,presence:t}});case 2:return s=r.sent,r.abrupt("return",s.party_leader);case 4:case"end":return r.stop()}}),n,this)})))},t.removeChatMessage=function(e,t){return v(this,null,r().mark((function n(){var s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({channel_message_remove:{channel_id:e,message_id:t}});case 2:return s=r.sent,r.abrupt("return",s.channel_message_ack);case 4:case"end":return r.stop()}}),n,this)})))},t.removeMatchmaker=function(e){return this.send({matchmaker_remove:{ticket:e}})},t.removeMatchmakerParty=function(e,t){return this.send({party_matchmaker_remove:{party_id:e,ticket:t}})},t.removePartyMember=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.send({party_remove:{party_id:e,presence:t}}));case 1:case"end":return r.stop()}}),n,this)})))},t.rpc=function(e,t,n){return v(this,null,r().mark((function s(){var i;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({rpc:{id:e,payload:t,http_key:n}});case 2:return i=r.sent,r.abrupt("return",i.rpc);case 4:case"end":return r.stop()}}),s,this)})))},t.sendMatchState=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.send({match_data_send:{match_id:e,op_code:t,data:n,presences:null!=s?s:[],reliable:i}}));case 1:case"end":return r.stop()}}),o,this)})))},t.sendPartyData=function(e,t,r){return this.send({party_data_send:{party_id:e,op_code:t,data:r}})},t.unfollowUsers=function(e){return this.send({status_unfollow:{user_ids:e}})},t.updateChatMessage=function(e,t,n){return v(this,null,r().mark((function s(){var i;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({channel_message_update:{channel_id:e,message_id:t,content:n}});case 2:return i=r.sent,r.abrupt("return",i.channel_message_ack);case 4:case"end":return r.stop()}}),s,this)})))},t.updateStatus=function(e){return this.send({status_update:{status:e}})},t.writeChatMessage=function(e,t){return v(this,null,r().mark((function n(){var s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({channel_message_send:{channel_id:e,content:t}});case 2:return s=r.sent,r.abrupt("return",s.channel_message_ack);case 4:case"end":return r.stop()}}),n,this)})))},e}());e("Client",function(){function e(e,t,r,n,s,i){void 0===e&&(e="defaultkey"),void 0===t&&(t="127.0.0.1"),void 0===r&&(r="7350"),void 0===n&&(n=!1),void 0===s&&(s=7e3),void 0===i&&(i=!0),this.serverkey=e,this.host=t,this.port=r,this.useSSL=n,this.timeout=s,this.autoRefreshSession=i,this.expiredTimespanMs=3e5;var o=""+(n?"https://":"http://")+t+":"+r;this.apiClient=new N(e,o,s)}var t=e.prototype;return t.addGroupUsers=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.addGroupUsers(e.token,t,n).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.addFriends=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.addFriends(e.token,t,n).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.authenticateApple=function(e,t,n){return v(this,arguments,r().mark((function e(t,n,s,i,o){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),void 0===o&&(o={}),a={token:t,vars:i},e.abrupt("return",this.apiClient.authenticateApple(this.serverkey,"",a,n,s,o).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)})));case 4:case"end":return e.stop()}}),e,this)})))},t.authenticateCustom=function(e,t,r,n,s){void 0===n&&(n={}),void 0===s&&(s={});var i={id:e,vars:n};return this.apiClient.authenticateCustom(this.serverkey,"",i,t,r,s).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateDevice=function(e,t,r,n){var s={id:e,vars:n};return this.apiClient.authenticateDevice(this.serverkey,"",s,t,r).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateEmail=function(e,t,r,n,s){var i={email:e,password:t,vars:s};return this.apiClient.authenticateEmail(this.serverkey,"",i,r,n).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateFacebookInstantGame=function(e,t,r,n,s){void 0===s&&(s={});var i={signed_player_info:e,vars:n};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:i.signed_player_info,vars:i.vars},t,r,s).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateFacebook=function(e,t,r,n,s,i){void 0===i&&(i={});var o={token:e,vars:s};return this.apiClient.authenticateFacebook(this.serverkey,"",o,t,r,n,i).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateGoogle=function(e,t,r,n,s){void 0===s&&(s={});var i={token:e,vars:n};return this.apiClient.authenticateGoogle(this.serverkey,"",i,t,r,s).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateGameCenter=function(e,t,r,n){var s={token:e,vars:n};return this.apiClient.authenticateGameCenter(this.serverkey,"",s,t,r).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)}))},t.authenticateSteam=function(e,t,n,s,i){return v(this,null,r().mark((function o(){var a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={token:e,vars:i,sync:s},r.abrupt("return",this.apiClient.authenticateSteam(this.serverkey,"",a,t,n).then((function(e){return new j(e.token||"",e.refresh_token||"",e.created||!1)})));case 2:case"end":return r.stop()}}),o,this)})))},t.banGroupUsers=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.banGroupUsers(e.token,t,n).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.blockFriends=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.blockFriends(e.token,t,n).then((function(e){return Promise.resolve(null!=e)})));case 4:case"end":return r.stop()}}),s,this)})))},t.createGroup=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.createGroup(e.token,t).then((function(e){return Promise.resolve({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count?Number(e.edge_count):0,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count?Number(e.max_count):0,metadata:e.metadata?JSON.parse(e.metadata):void 0,name:e.name,open:e.open,update_time:e.update_time})})));case 4:case"end":return r.stop()}}),n,this)})))},t.createSocket=function(e,t,r){return void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===r&&(r=new z),new G(this.host,this.port,e,t,r)},t.deleteFriends=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.deleteFriends(e.token,t,n).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.deleteGroup=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.deleteGroup(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.deleteNotifications=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.deleteNotifications(e.token,t).then((function(e){return Promise.resolve(null!=e)})));case 4:case"end":return r.stop()}}),n,this)})))},t.deleteStorageObjects=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.deleteStorageObjects(e.token,t).then((function(e){return Promise.resolve(null!=e)})));case 4:case"end":return r.stop()}}),n,this)})))},t.demoteGroupUsers=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.demoteGroupUsers(e.token,t,n).then((function(e){return Promise.resolve(null!=e)})));case 4:case"end":return r.stop()}}),s,this)})))},t.emitEvent=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.event(e.token,t).then((function(e){return Promise.resolve(null!=e)})));case 4:case"end":return r.stop()}}),n,this)})))},t.getAccount=function(e){return v(this,null,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){t.next=3;break}return t.next=3,this.sessionRefresh(e);case 3:return t.abrupt("return",this.apiClient.getAccount(e.token));case 4:case"end":return t.stop()}}),t,this)})))},t.importFacebookFriends=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.importFacebookFriends(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.importSteamFriends=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.importSteamFriends(e.token,t,n).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.getUsers=function(e,t,n,s){return v(this,null,r().mark((function i(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.getUsers(e.token,t,n,s).then((function(e){var t={users:[]};return null==e.users||e.users.forEach((function(e){t.users.push({avatar_url:e.avatar_url,create_time:e.create_time,display_name:e.display_name,edge_count:e.edge_count?Number(e.edge_count):0,facebook_id:e.facebook_id,gamecenter_id:e.gamecenter_id,google_id:e.google_id,id:e.id,lang_tag:e.lang_tag,location:e.location,online:e.online,steam_id:e.steam_id,timezone:e.timezone,update_time:e.update_time,username:e.username,metadata:e.metadata?JSON.parse(e.metadata):void 0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),i,this)})))},t.joinGroup=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.joinGroup(e.token,t,{}).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.joinTournament=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.joinTournament(e.token,t,{}).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.kickGroupUsers=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.kickGroupUsers(e.token,t,n).then((function(e){return Promise.resolve(null!=e)})));case 4:case"end":return r.stop()}}),s,this)})))},t.leaveGroup=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.leaveGroup(e.token,t,{}).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.listChannelMessages=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listChannelMessages(e.token,t,n,s,i).then((function(e){var t={messages:[],next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,cacheable_cursor:e.cacheable_cursor};return null==e.messages||e.messages.forEach((function(e){t.messages.push({channel_id:e.channel_id,code:e.code?Number(e.code):0,create_time:e.create_time,message_id:e.message_id,persistent:e.persistent,sender_id:e.sender_id,update_time:e.update_time,username:e.username,content:e.content?JSON.parse(e.content):void 0,group_id:e.group_id,room_name:e.room_name,user_id_one:e.user_id_one,user_id_two:e.user_id_two})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),o,this)})))},t.listGroupUsers=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listGroupUsers(e.token,t,s,n,i).then((function(e){var t={group_users:[],cursor:e.cursor};return null==e.group_users||e.group_users.forEach((function(e){t.group_users.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0},state:e.state?Number(e.state):0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),o,this)})))},t.listUserGroups=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listUserGroups(e.token,t,n,s,i).then((function(e){var t={user_groups:[],cursor:e.cursor};return null==e.user_groups||e.user_groups.forEach((function(e){t.user_groups.push({group:{avatar_url:e.group.avatar_url,create_time:e.group.create_time,creator_id:e.group.creator_id,description:e.group.description,edge_count:e.group.edge_count?Number(e.group.edge_count):0,id:e.group.id,lang_tag:e.group.lang_tag,max_count:e.group.max_count,metadata:e.group.metadata?JSON.parse(e.group.metadata):void 0,name:e.group.name,open:e.group.open,update_time:e.group.update_time},state:e.state?Number(e.state):0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),o,this)})))},t.listGroups=function(e,t,n,s){return v(this,null,r().mark((function i(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listGroups(e.token,t,n,s).then((function(e){var t={groups:[]};return null==e.groups||(t.cursor=e.cursor,e.groups.forEach((function(e){t.groups.push({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count?Number(e.edge_count):0,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count,metadata:e.metadata?JSON.parse(e.metadata):void 0,name:e.name,open:e.open,update_time:e.update_time})}))),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),i,this)})))},t.linkApple=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkApple(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkCustom=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkCustom(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkDevice=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkDevice(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkEmail=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkEmail(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkFacebook=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkFacebook(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkFacebookInstantGame=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkFacebookInstantGame(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkGoogle=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkGoogle(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkGameCenter=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkGameCenter(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.linkSteam=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.linkSteam(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.listFriends=function(e,t,n,s){return v(this,null,r().mark((function i(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listFriends(e.token,n,t,s).then((function(e){var t={friends:[],cursor:e.cursor};return null==e.friends||e.friends.forEach((function(e){t.friends.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0,facebook_instant_game_id:e.user.facebook_instant_game_id},state:e.state})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),i,this)})))},t.listLeaderboardRecords=function(e,t,n,s,i,o){return v(this,null,r().mark((function a(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listLeaderboardRecords(e.token,t,n,s,i,o).then((function(e){var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((function(e){t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((function(e){t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),a,this)})))},t.listLeaderboardRecordsAroundOwner=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listLeaderboardRecordsAroundOwner(e.token,t,n,s,i).then((function(e){var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((function(e){t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((function(e){t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),o,this)})))},t.listMatches=function(e,t,n,s,i,o,a){return v(this,null,r().mark((function u(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listMatches(e.token,t,n,s,i,o,a));case 4:case"end":return r.stop()}}),u,this)})))},t.listNotifications=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listNotifications(e.token,t,n).then((function(e){var t={cacheable_cursor:e.cacheable_cursor,notifications:[]};return null==e.notifications||e.notifications.forEach((function(e){t.notifications.push({code:e.code?Number(e.code):0,create_time:e.create_time,id:e.id,persistent:e.persistent,sender_id:e.sender_id,subject:e.subject,content:e.content?JSON.parse(e.content):void 0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),s,this)})))},t.listStorageObjects=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listStorageObjects(e.token,t,n,s,i).then((function(e){var t={objects:[],cursor:e.cursor};return null==e.objects||e.objects.forEach((function(e){t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read?Number(e.permission_read):0,permission_write:e.permission_write?Number(e.permission_write):0,value:e.value?JSON.parse(e.value):void 0,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),o,this)})))},t.listTournaments=function(e,t,n,s,i,o,a){return v(this,null,r().mark((function u(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listTournaments(e.token,t,n,s,i,o,a).then((function(e){var t={cursor:e.cursor,tournaments:[]};return null!=e.tournaments&&e.tournaments.forEach((function(e){t.tournaments.push({id:e.id,title:e.title,description:e.description,duration:e.duration?Number(e.duration):0,category:e.category?Number(e.category):0,sort_order:e.sort_order?Number(e.sort_order):0,size:e.size?Number(e.size):0,max_size:e.max_size?Number(e.max_size):0,max_num_score:e.max_num_score?Number(e.max_num_score):0,can_enter:e.can_enter,end_active:e.end_active?Number(e.end_active):0,next_reset:e.next_reset?Number(e.next_reset):0,metadata:e.metadata?JSON.parse(e.metadata):void 0,create_time:e.create_time,start_time:e.start_time,end_time:e.end_time,start_active:e.start_active})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),u,this)})))},t.listTournamentRecords=function(e,t,n,s,i,o){return v(this,null,r().mark((function a(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listTournamentRecords(e.token,t,n,s,i,o).then((function(e){var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((function(e){t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((function(e){t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),a,this)})))},t.listTournamentRecordsAroundOwner=function(e,t,n,s,i){return v(this,null,r().mark((function o(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.listTournamentRecordsAroundOwner(e.token,t,n,s,i).then((function(e){var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((function(e){t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((function(e){t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),o,this)})))},t.promoteGroupUsers=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.promoteGroupUsers(e.token,t,n));case 4:case"end":return r.stop()}}),s,this)})))},t.readStorageObjects=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.readStorageObjects(e.token,t).then((function(e){var t={objects:[]};return null==e.objects||e.objects.forEach((function(e){t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read?Number(e.permission_read):0,permission_write:e.permission_write?Number(e.permission_write):0,value:e.value?JSON.parse(e.value):void 0,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})})),Promise.resolve(t)})));case 4:case"end":return r.stop()}}),n,this)})))},t.rpc=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.rpcFunc(e.token,t,JSON.stringify(n)).then((function(e){return Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):void 0})})));case 4:case"end":return r.stop()}}),s,this)})))},t.rpcHttpKey=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.apiClient.rpcFunc2("",t,n&&JSON.stringify(n)||"",e).then((function(e){return Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):void 0})})).catch((function(e){throw e})));case 1:case"end":return r.stop()}}),s,this)})))},t.sessionLogout=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.sessionLogout(e.token,{refresh_token:n,token:t}).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.sessionRefresh=function(e){return v(this,arguments,r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),t){e.next=4;break}return console.error("Cannot refresh a null session."),e.abrupt("return",t);case 4:return t.created&&t.expires_at-t.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),t.created&&t.refresh_expires_at-t.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),e.next=8,this.apiClient.sessionRefresh(this.serverkey,"",{token:t.refresh_token,vars:n});case 8:return s=e.sent,t.update(s.token,s.refresh_token),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})))},t.unlinkApple=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkApple(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkCustom=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkCustom(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkDevice=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkDevice(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkEmail=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkEmail(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkFacebook=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkFacebook(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkFacebookInstantGame=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkFacebookInstantGame(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkGoogle=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkGoogle(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkGameCenter=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkGameCenter(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.unlinkSteam=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.unlinkSteam(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.updateAccount=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.updateAccount(e.token,t).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),n,this)})))},t.updateGroup=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.updateGroup(e.token,t,n).then((function(e){return void 0!==e})));case 4:case"end":return r.stop()}}),s,this)})))},t.validatePurchaseApple=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.validatePurchaseApple(e.token,{receipt:t}));case 4:case"end":return r.stop()}}),n,this)})))},t.validatePurchaseGoogle=function(e,t){return v(this,null,r().mark((function n(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.validatePurchaseGoogle(e.token,{purchase:t}));case 4:case"end":return r.stop()}}),n,this)})))},t.validatePurchaseHuawei=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.validatePurchaseHuawei(e.token,{purchase:t,signature:n}));case 4:case"end":return r.stop()}}),s,this)})))},t.writeLeaderboardRecord=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return r.abrupt("return",this.apiClient.writeLeaderboardRecord(e.token,t,{metadata:n.metadata?JSON.stringify(n.metadata):void 0,score:n.score,subscore:n.subscore}).then((function(e){return Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0,rank:e.rank?Number(e.rank):0})})));case 4:case"end":return r.stop()}}),s,this)})))},t.writeStorageObjects=function(e,t){return v(this,null,r().mark((function n(){var s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3))){r.next=3;break}return r.next=3,this.sessionRefresh(e);case 3:return s={objects:[]},t.forEach((function(e){s.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read,permission_write:e.permission_write,value:JSON.stringify(e.value),version:e.version})})),r.abrupt("return",this.apiClient.writeStorageObjects(e.token,s));case 6:case"end":return r.stop()}}),n,this)})))},t.writeTournamentRecord=function(e,t,n){return v(this,null,r().mark((function s(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.apiClient.writeTournamentRecord(e.token,t,{metadata:n.metadata?JSON.stringify(n.metadata):void 0,score:n.score,subscore:n.subscore}).then((function(e){return Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0,rank:e.rank?Number(e.rank):0})})));case 1:case"end":return r.stop()}}),s,this)})))},e}())}}}));

System.register("chunks:///_virtual/rollupPluginModLoBabelHelpers.js",[],(function(t){"use strict";return{execute:function(){function e(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(e,r){return(n=t("setPrototypeOf",Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t}))(e,r)}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}t({applyDecoratedDescriptor:function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null);return i},arrayLikeToArray:i,assertThisInitialized:function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},asyncToGenerator:function(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(void 0)}))}},createClass:function(t,e,n){e&&r(t.prototype,e);n&&r(t,n);return Object.defineProperty(t,"prototype",{writable:!1}),t},createForOfIteratorHelperLoose:function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=o(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},inheritsLoose:function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)},initializerDefineProperty:function(t,e,r,n){if(!r)return;Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},regeneratorRuntime:function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t("regeneratorRuntime",(function(){return e}));var e={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var s={};function h(){}function p(){}function y(){}var v={};u(v,i,(function(){return this}));var d=Object.getPrototypeOf,g=d&&d(d(j([])));g&&g!==r&&n.call(g,i)&&(v=g);var m=y.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==typeof s&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function L(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=y,u(m,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},e.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e},setPrototypeOf:n,unsupportedIterableToArray:o})}}}));

} }; });