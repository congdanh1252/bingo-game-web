System.register("chunks:///_virtual/AuthenticationPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./UIBase.ts","./StaticInstance.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,c,u,p,d,g,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,c=t.Node,u=t.Label,p=t.math},function(t){d=t.Utils},function(t){g=t.UIBase},function(t){f=t.StaticInstance}],execute:function(){var h,y,m,v,b,w,T,x,B,_,L,S,I;l._RF.push({},"7209djwfRJO2pc352Lvvcp6","AuthenticationPanel",void 0);var P=s.ccclass,z=s.property;t("AuthenticationPanel",(h=P("AuthenticationPanel"),y=z({type:c}),m=z({type:c}),v=z({type:c}),b=z({type:c}),w=z({type:u}),h((B=e((x=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"loginButton",B,r(e)),n(e,"signUpButton",_,r(e)),n(e,"emailField",L,r(e)),n(e,"passwordField",S,r(e)),n(e,"errorText",I,r(e)),e._uiManager=void 0,e._password=void 0,e}i(e,t);var l=e.prototype;return l.onLoad=function(){t.prototype.onLoad.call(this),this.errorText.string=""},l.show=function(){t.prototype.show.call(this)},l.hide=function(){t.prototype.hide.call(this)},l.init=function(t){this._uiManager=t},l.onLoginButtonClick=function(){console.log("Login clicked!"),this._uiManager.navigateStartScreen()},l.onPasswordChange=function(t){this._password=t},l.onSignUpButtonClick=function(){var t=this,e=this._password,i=this.emailField.getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(u).string;this.validateInput(i,e)&&f.nakamaClient.authenticateWithEmail({email:i,password:e}).then(o(a().mark((function e(i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(i),i?(t.errorText.string="Success",t.errorText.color=p.color("#1dc35d"),t._uiManager.navigateStartScreen()):null==i?t.errorText.string="null error":null==i&&(t.errorText.string="undefined");case 2:case"end":return e.stop()}}),e)})))).catch((function(e){t.errorText.string=(null==e?void 0:e.toString())||""}))},l.validateInput=function(t,e){return t&&e?!!d.validateEmail(t)||(console.log("invalid email"),this.errorText.string="Invalid email format!",!1):(console.log("missing field!"),this.errorText.string="Please fill in both fields!",!1)},e}(g)).prototype,"loginButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=e(x.prototype,"signUpButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),L=e(x.prototype,"emailField",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),S=e(x.prototype,"passwordField",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I=e(x.prototype,"errorText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),T=x))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/BalanceTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./UIBase.ts"],(function(t){"use strict";var e,n,i,a,o,r,l,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.Label,s=t.Node},function(t){u=t.StaticInstance},function(t){p=t.UIBase}],execute:function(){var b,f,y,d,h,g,B,m,v,w,S;r._RF.push({},"b0b148gyHVDC5V2hMCNAfto","BalanceTab",void 0);var C=l.ccclass,M=l.property;t("BalanceTab",(b=C("BalanceTab"),f=M({type:c}),y=M({type:s}),d=M({type:s}),h=M({type:s}),b((m=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"balanceLabel",m,a(e)),i(e,"closeButton",v,a(e)),i(e,"depositButton",w,a(e)),i(e,"withdrawButton",S,a(e)),e._isFromStartMenu=void 0,e}n(e,t);var r=e.prototype;return r.init=function(){var t,e;this.balanceLabel.string=(null==(t=u.mainGameManager)||null==(e=t.balance)?void 0:e.toString())||u.balance.toString()},r.onCloseButtonClick=function(){this._isFromStartMenu&&(u.startUIManager.balanceTabCloseCallback(),this._isFromStartMenu=void 0),t.prototype.hide.call(this)},r.onDepositButtonClick=function(){console.log("Deposit clicked!")},r.onWithdrawButtonClick=function(){console.log("Withdraw clicked!")},o(e,[{key:"isFromStartMenu",set:function(t){this._isFromStartMenu=t}}]),e}(p)).prototype,"balanceLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=e(B.prototype,"closeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=e(B.prototype,"depositButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),S=e(B.prototype,"withdrawButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=B))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/BingoPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,o,i,n,r,c,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,p=t.Node},function(t){s=t.UIBase}],execute:function(){var a,l,u,f,y;r._RF.push({},"8acf1ES27xJCb694xCVmeQt","BingoPopUp",void 0);var B=c.ccclass,g=c.property;t("BingoPopUp",(a=B("BingoPopUp"),l=g({type:p}),a((y=e((f=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,i(e,"closeButton",y,n(e)),e}o(e,t);var r=e.prototype;return r.init=function(){},r.onCloseButtonClick=function(){t.prototype.hide.call(this)},e}(s)).prototype,"closeButton",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),u=f))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/BottomPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var i,o,n,e,r,a,u,c,l,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,c=t.Button,l=t.Sprite},function(t){s=t.UIBase}],execute:function(){var p,f,y,B,b,h,g,k,m,C,d,_,v;r._RF.push({},"1f5aaLsrFRIkJviQg7108Gj","BottomPanel",void 0);var w=a.ccclass,M=a.property;t("BottomPanel",(p=w("BottomPanel"),f=M({type:u}),y=M({type:u}),B=M({type:u}),b=M({type:u}),h=M({type:u}),p((m=i((k=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"notificationButton",m,e(i)),n(i,"treasureButton",C,e(i)),n(i,"historyButton",d,e(i)),n(i,"profileButton",_,e(i)),n(i,"buyButton",v,e(i)),i._uiManager=void 0,i}o(i,t);var r=i.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this)},r.show=function(){t.prototype.show.call(this)},r.hide=function(){t.prototype.hide.call(this)},r.init=function(t){this._uiManager=t},r.onNotificationButtonClick=function(){this._uiManager.onNotificationTabClick()},r.onTreasureButtonClick=function(){this._uiManager.onTreasureTabClick()},r.onHistoryButtonClick=function(){this._uiManager.onHistoryTabClick()},r.onProfileButtonClick=function(){this._uiManager.onProfileTabClick()},r.onBuyButtonClick=function(){this._uiManager.onBuyButtonClick()},r.toggleBuyButton=function(t){this.buyButton.getComponent(c).interactable=t,this.buyButton.getComponent(l).grayscale=!t},i}(s)).prototype,"notificationButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),C=i(k.prototype,"treasureButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),d=i(k.prototype,"historyButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=i(k.prototype,"profileButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=i(k.prototype,"buyButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=k))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/BoughtNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,u,i;return{setters:[function(t){e=t.createClass},function(t){u=t.cclegacy,i=t._decorator}],execute:function(){var r;u._RF.push({},"fa78aW716xL6bJAqIYPhVsz","BoughtNumber",void 0);var n=i.ccclass;i.property,t("BoughtNumber",n("BoughtNumber")(r=function(){function t(){this._value=void 0,this._time=void 0}return e(t,[{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"time",get:function(){return this._time},set:function(t){this._time=t}}]),t}())||r);u._RF.pop()}}}));

System.register("chunks:///_virtual/ConfirmationModal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NakamaClient.ts","./Enum.ts","./StaticInstance.ts","./UIBase.ts"],(function(t){"use strict";var e,n,o,i,a,r,s,c,u,l,f,p,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,c=t.Node,u=t.director,l=t.game},function(t){f=t.NakamaClient},function(t){p=t.ICMContext},function(t){h=t.StaticInstance},function(t){m=t.UIBase}],execute:function(){var d,g,y,b,C,k,w,v,I;a._RF.push({},"c090aSNp0ZEZaYUItGoaEw5","ConfirmationModal",void 0);var L=r.ccclass,M=r.property;t("ConfirmationModal",(d=L("ConfirmationModal"),g=M({type:s}),y=M({type:c}),b=M({type:c}),d((w=e((k=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"message",w,i(e)),o(e,"cancelButton",v,i(e)),o(e,"continueButton",I,i(e)),e._fromContext=void 0,e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.show=function(){t.prototype.show.call(this)},a.hide=function(){t.prototype.hide.call(this)},a.init=function(t){switch(this._fromContext=t,t){case p.START:this.message.string="Are you sure to\nquit the game?";break;case p.MAIN:this.message.string="Are you sure to\ngo back to start menu?";break;case p.LOGOUT:this.message.string="Are you sure to\nlog out from this account?";break;default:this.message.string=""}},a.onCancelClick=function(){this.node.destroy()},a.onContinueClick=function(){switch(this._fromContext){case p.START:l.end();break;case p.MAIN:h.nakamaClient.leaveMatch(),u.loadScene("start");break;case p.LOGOUT:this.handleLogOut()}},a.handleLogOut=function(){(new f).logOutSession(),u.loadScene("auth")},e}(m)).prototype,"message",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=e(k.prototype,"cancelButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I=e(k.prototype,"continueButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),C=k))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"38d11DFCn1Ma5f33tTt0ePX","Constant",void 0);t("CONSTANT",{NUMBER_BOX_SIZE:106,TICKET_PRICE:10,TREASURE_PRIZE:100,JACKPOT_PRIZE:1500});n._RF.pop()}}}));

System.register("chunks:///_virtual/DataStorage.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t.sys}],execute:function(){e._RF.push({},"e0d74+m3UhJaqvrLuA6P+hb","DataStorage",void 0);t("DataStorage",function(){function t(){}return t.setIsMusicMute=function(t){n.localStorage.setItem("IS_AUDIO_MUTE",JSON.stringify(t))},t.getIsMusicMute=function(){var t=n.localStorage.getItem("IS_AUDIO_MUTE");return!!t&&JSON.parse(t)},t.setAccessToken=function(t){n.localStorage.setItem("ACCESS_TOKEN",t)},t.getAccessToken=function(){var t=n.localStorage.getItem("ACCESS_TOKEN");return t||""},t.setRefreshToken=function(t){n.localStorage.setItem("REFRESH_TOKEN",t)},t.getRefreshToken=function(){var t=n.localStorage.getItem("REFRESH_TOKEN");return t||""},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var o,n,a,i,T;e({IBoxState:void 0,ICMContext:void 0,IGameMode:void 0,INumberPrice:void 0,UIType:void 0}),t._RF.push({},"7688dUac2NK87QIhYnq4i0D","Enum",void 0),function(e){e[e.Home=0]="Home",e[e.PlayButton=1]="PlayButton",e[e.TopPanel=2]="TopPanel",e[e.BottomPanel=3]="BottomPanel",e[e.TreasurePanel=4]="TreasurePanel",e[e.NotificationTab=5]="NotificationTab",e[e.TreasureTab=6]="TreasureTab",e[e.HistoryTab=7]="HistoryTab",e[e.ProfileTab=8]="ProfileTab",e[e.NumberBoughtTab=9]="NumberBoughtTab",e[e.BalanceTab=10]="BalanceTab",e[e.ResultPopUp=11]="ResultPopUp",e[e.BingoPopUp=12]="BingoPopUp",e[e.StartMenu=13]="StartMenu",e[e.TreasureHunterPopUp=14]="TreasureHunterPopUp",e[e.AuthenticationPanel=15]="AuthenticationPanel",e[e.NumberPricePanel=16]="NumberPricePanel",e[e.ConfirmationModal=17]="ConfirmationModal",e[e.OptionPanel=18]="OptionPanel"}(o||(o=e("UIType",{}))),function(e){e[e.NORMAL=0]="NORMAL",e[e.SELECTED=1]="SELECTED",e[e.BOUGHT=2]="BOUGHT",e[e.TREASURE=3]="TREASURE",e[e.UNAVAILABLE=4]="UNAVAILABLE"}(n||(n=e("IBoxState",{}))),function(e){e[e.FAST=0]="FAST",e[e.NORMAL=1]="NORMAL"}(a||(a=e("IGameMode",{}))),function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.TEN=2]="TEN"}(i||(i=e("INumberPrice",{}))),function(e){e[e.AUTH=0]="AUTH",e[e.START=1]="START",e[e.MAIN=2]="MAIN",e[e.LOGOUT=3]="LOGOUT"}(T||(T=e("ICMContext",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/FullscreenPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Component}],execute:function(){var c;n._RF.push({},"73733Egu3FFxJqzCpnIpphx","FullscreenPopUp",void 0);var p=r.ccclass;r.property,e("FullscreenPopUp",p("FullscreenPopUp")(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./NumberBox.ts","./Constant.ts"],(function(e){"use strict";var r,t,s,a,i,o,n,u,h,b,m,l,c,d,_;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,n=e._decorator,u=e.Prefab,h=e.Label,b=e.instantiate,m=e.Component},function(e){l=e.IBoxState},function(e){c=e.StaticInstance},function(e){d=e.NumberBox},function(e){_=e.CONSTANT}],execute:function(){var f,N,g,p,v,x,w,T;o._RF.push({},"b18f6mcVFBDGaTmPJizuw5R","GameManager",void 0);var P=n.ccclass,E=n.property,M=_.NUMBER_BOX_SIZE;(null==c||null==(f=c.roundData)?void 0:f.treasurePrize)||_.TREASURE_PRIZE,c.numberPrice,e("GameManager",(N=P("GameManager"),g=E({type:d}),p=E({type:u}),N((w=r((x=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,s(r,"firstBox",w,a(r)),s(r,"surroundArrows",T,a(r)),r._balance=void 0,r._boxes=[],r._boughtNumbers=[],r._boughtTreasures=[],r._selectedNumbers=[],r._treasureNumbers=[],r._unavailableNumbers=[],r}t(r,e);var o=r.prototype;return o.randomizeBoughtNumber=function(){if(100-this._unavailableNumbers.length>0){var e=Math.floor(100*Math.random()),r=this._boxes[e].state;r!=l.NORMAL&&r!=l.SELECTED&&r!=l.TREASURE||(this._unavailableNumbers.push(e),this._boxes[e].makeUnavailable(!1),this._treasureNumbers.indexOf(e)>-1&&this.removeTreasureNumber(e),this._selectedNumbers.indexOf(e)>-1&&this.removeSurroundingArrows())}else console.log("Unschedules"),this.unschedule(this.randomizeBoughtNumber)},o.onLoad=function(){c.setMainGameManager(this),c.mainGameManager.balance=200,c.mainGameManager.initOneHundredNumberBoxes(),this.initDataFromServer()},o.initOneHundredNumberBoxes=function(){this._boxes.push(this.firstBox);for(var e=0;e<10;e++)for(var r=0==e?1:0;r<10;r++){var t=new d,s=this._boxes.length,a=this._boxes[s-1],i=a.getPosition(),o=a.clone();o.children[0].getComponent(h).string=(s<10?"0":"")+s.toString(),s>=10&&s%10==0?o.setPosition(this.firstBox.getPosition().x,i.y-M):o.setPosition(i.x+M,i.y),t.init(o),o.setSiblingIndex(0),this.node.addChild(o),this._boxes.push(t)}},o.onBuyButtonClick=function(){var e=this,r=[],t=0,s=[],a=[],i=[];this._selectedNumbers.forEach((function(r,t){e._boxes[r].state=l.BOUGHT,e._boxes[r].makeUnavailable(!0),a.push(e.findNearestTreasureInfo(r));var s=e._treasureNumbers.indexOf(r)>0;if(s){var i=c.roundData.remainTreasureNumbers.indexOf(r);c.roundData.remainTreasureNumbers.splice(i,1)}c.nakamaClient.sendMatchData(r,s),c.roundData.boughtNumbers.push(r)})),c.isJoiner||c.nakamaClient.updateRoundDataStorageObject(),a.forEach((function(t){if(r.indexOf(t.treasure)<0&&e._selectedNumbers.indexOf(t.treasure)<0)r.push(t.treasure),s.push(t.number);else if(r.indexOf(t.treasure)>=0){var i=a[r.indexOf(t.treasure)];t.min<i.min&&(s.splice(s.indexOf(i.number),1),s.push(t.number))}})),s.forEach((function(r){e.showSurroundArrows(r)})),this._selectedNumbers.forEach((function(r){e._treasureNumbers.indexOf(r)>-1&&(t++,i.push(r),e._boxes[r].makeTreasure(!0))})),this._boughtTreasures=this._boughtTreasures.concat(i),t>0&&(this._balance+=t*c.roundData.treasurePrize,console.log(this._balance),c.mainUIManager.updateTopPanelBalanceLabel(this._balance),c.mainUIManager.showTreasureHunterPopUp(i))},o.removeSurroundingArrows=function(){this.node.children[100]&&this.node.removeChild(this.node.children[100])},o.removeSelectedNumber=function(e){var r=this._selectedNumbers.indexOf(e);this._selectedNumbers.splice(r,1)},o.removeTreasureNumber=function(e){var r=this._treasureNumbers.indexOf(e);this._treasureNumbers.splice(r,1)},o.updateBoughtAndSelectedNumbers=function(){var e=this;this._selectedNumbers.forEach((function(r){e._treasureNumbers.indexOf(r)>-1&&(e.removeTreasureNumber(r),console.log("Removed "+r))})),this._boughtNumbers=this._boughtNumbers.concat(this._selectedNumbers),this._selectedNumbers=[],this._unavailableNumbers=[].concat(this._boughtNumbers),this.saveUserCurrentRoundData()},o.showSurroundArrows=function(e){var r=b(this.surroundArrows),t=this.node.children[e].getPosition();r.setPosition(t.x,t.y),this.editArrowsByValue(r,e),this.node.addChild(r)},o.editArrowsByValue=function(e,r){for(var t=[],s=[],a=-1234,i=this._boxes[r],o=0;o<this._treasureNumbers.length;o++){var n=this._boxes[this._treasureNumbers[o]],u=Math.sqrt(Math.pow(n.getPosition().x-i.getPosition().x,2)+Math.pow(n.getPosition().y-i.getPosition().y,2));u>0?(s.push(u),(-1234==a||a>u)&&(a=u)):s.push(u)}for(var h=0;h<this._treasureNumbers.length;h++){var b=this._boxes[this._treasureNumbers[h]];if(this._treasureNumbers[h]!=r&&a==s[h]){var m=i.getPosition().x,l=i.getPosition().y,c=b.getPosition().x,d=b.getPosition().y;m==c?l<d?t.push("arrow_top"):t.push("arrow_bottom"):l==d?m<c?t.push("arrow_right"):t.push("arrow_left"):m>c?l<d?t.push("arrow_top_left"):t.push("arrow_bottom_left"):m<c&&(l<d?t.push("arrow_top_right"):t.push("arrow_bottom_right"))}}["arrow_top","arrow_bottom","arrow_left","arrow_right","arrow_top_left","arrow_top_right","arrow_bottom_left","arrow_bottom_right"].forEach((function(r){if(t.indexOf(r)<0){var s=e.getChildByName(r);e.removeChild(s)}}))},o.randomizeTreasureNumber=function(){for(var e=0;this._treasureNumbers.length<5;e++){var r=Math.floor(100*Math.random());this._treasureNumbers.indexOf(r)<0&&(this._treasureNumbers.push(r),this._boxes[r].state=l.TREASURE)}console.log("Treasure numbers: "+this._treasureNumbers)},o.initDataFromServer=function(){var e,r=this;null==(e=c.roundData)||e.treasureNumbers.forEach((function(e){r._treasureNumbers.push(e),r._boxes[e].state=l.TREASURE})),c.roundData.boughtNumbers.forEach((function(e){r.handleMakeNumberUnavailable(e)}))},o.findNearestTreasureInfo=function(e){for(var r=-1,t=-1234,s=this._boxes[e],a=0;a<this._treasureNumbers.length;a++){var i=this._boxes[this._treasureNumbers[a]],o=Math.sqrt(Math.pow(i.getPosition().x-s.getPosition().x,2)+Math.pow(i.getPosition().y-s.getPosition().y,2));o>0&&(-1234==t||t>o)&&(r=a,t=o)}return{number:e,min:t,treasure:this._treasureNumbers[r]}},o.showRestTreasureNumbers=function(){for(var e=this;this.node.children[100];)this.node.removeChild(this.node.children[100]);this._treasureNumbers.forEach((function(r){e._boxes[r].makeTreasure(!1)}))},o.restartRound=function(){var e=this;this.node.children.forEach((function(r,t){t>0?r.destroy():(e.firstBox.state=l.NORMAL,e.firstBox.makeNormal())})),this._boxes=[],this._boughtNumbers=[],this._boughtTreasures=[],this._selectedNumbers=[],this._treasureNumbers=[],this._unavailableNumbers=[],c.mainGameManager.initOneHundredNumberBoxes()},o.handleMakeNumberUnavailable=function(e){var r=this._boxes[e].state;r!=l.NORMAL&&r!=l.SELECTED&&r!=l.TREASURE||(this._unavailableNumbers.push(e),this._boxes[e].makeUnavailable(!1),this._treasureNumbers.indexOf(e)>-1&&this.removeTreasureNumber(e),this._selectedNumbers.indexOf(e)>-1&&this.removeSurroundingArrows())},o.handleNumberBoughtEvent=function(e){var r;if(this.handleMakeNumberUnavailable(e.number.value),null!=e&&null!=(r=e.number)&&r.isTreasure){this.removeTreasureNumber(e.number.value);var t=c.roundData.remainTreasureNumbers.indexOf(e.number);c.roundData.remainTreasureNumbers.splice(t,1)}},o.saveUserCurrentRoundData=function(){var e=c.roundData,r=c.nakamaClient.matchId,t=this._boughtNumbers.indexOf(e.jackpotNumber)>-1,s=r,a={matchId:r,period:e.period,boughtJackpot:t,startTime:e.startTime,numberPrice:e.numberPrice,boughtNumbers:this._boughtNumbers,jackpotPrize:e.jackpotPrize,treasurePrize:e.treasurePrize,jackpotNumber:e.jackpotNumber,boughtTreasures:this._boughtTreasures};c.nakamaClient.writeStorageObject("user_round",s,a,1)},i(r,[{key:"boxes",get:function(){return this._boxes}},{key:"balance",get:function(){return this._balance},set:function(e){this._balance=e}}]),r}(m)).prototype,"firstBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),T=r(x.prototype,"surroundArrows",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=x))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryDateItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Node,u=t.instantiate},function(t){c=t.UIBase}],execute:function(){var d,p,m,g,h,f,y;o._RF.push({},"c2a0frF2XpPrbj88jaKmKpf","HistoryDateItem",void 0);var b=a.ccclass,v=a.property;t("HistoryDateItem",(d=b("HistoryDateItem"),p=v({type:l}),m=v({type:s}),d((f=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"dateLabel",f,r(e)),n(e,"firstItem",y,r(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.show=function(){t.prototype.show.call(this)},o.hide=function(){t.prototype.hide.call(this)},o.init=function(t){var e,i,n=this,r=new Date(null==t?void 0:t.startTime),o=r.getDate().toString()+"/"+(r.getMonth()+1).toString()+"/"+r.getFullYear().toString();this.dateLabel.string="Period "+((null==t?void 0:t.period)<10?"0":"")+(null==t||null==(e=t.period)?void 0:e.toString())+" â€” "+o,null==t||null==(i=t.boughtNumbers)||i.forEach((function(e,i){var r,o=e==(null==t?void 0:t.jackpotNumber),a=(null==t||null==(r=t.boughtTreasures)?void 0:r.indexOf(e))>-1,l=o?"Jackpot":a?"Treasure":"                    ",s=o?(null==t?void 0:t.jackpotPrize)-(null==t?void 0:t.numberPrice):a?(null==t?void 0:t.treasurePrize)-(null==t?void 0:t.numberPrice):null==t?void 0:t.numberPrice;n.createNewNumberItem(e,i,l,s)})),this.firstItem.active=!1},o.createNewNumberItem=function(t,e,i,n){var r=u(this.firstItem);r.setPosition(0,this.firstItem.getPosition().y-140.375*e),r.getChildByName("Container").getChildByName("BottomlessButton").getChildByName("Label").getComponent(l).string=(t<10?"0":"")+t.toString(),r.getChildByName("Container").getChildByName("NumberTypeLabel").getComponent(l).string=i,r.getChildByName("Container").getChildByName("WinLossLabel").getComponent(l).string=(i.includes("a")?"+ ":"- ")+n.toString()+" $",this.node.addChild(r)},e}(c)).prototype,"dateLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),y=e(h.prototype,"firstItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=h))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./UIBase.ts","./NumberBoughtTab.ts","./HistoryDateItem.ts","./StaticInstance.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,l,c,u,h,m,f,g,p,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,c=t.Prefab,u=t.instantiate,h=t.UITransform,m=t.Label},function(t){f=t.Utils},function(t){g=t.UIBase},function(t){p=t.ITEM_MARGIN_BOTTOM},function(t){b=t.HistoryDateItem},function(t){d=t.StaticInstance}],execute:function(){var y,v,C,T,I,B,_,D,M;a._RF.push({},"cf0aawaQX1JK6oubmPRCon2","HistoryTab",void 0);var H=s.ccclass,S=s.property,w=-84;t("HistoryTab",(y=H("HistoryTab"),v=S({type:l}),C=S({type:l}),T=S({type:c}),y((_=e((B=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"closeButton",_,o(e)),i(e,"scrollContent",D,o(e)),i(e,"dateItem",M,o(e)),e._isFromStartMenu=void 0,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;d.nakamaClient.getGameHistory().then((function(e){return t.sortHistoryDataWithTimeOrder(e.objects)})).then((function(e){var n=0;null==e||e.forEach((function(e){if((null==e?void 0:e.value.boughtNumbers.length)>0){var i,o=u(t.dateItem),r=140*n;n+=(null==(i=e.value)?void 0:i.boughtNumbers.length)+1,o.setPosition(0,-r+w),t.scrollContent.addChild(o);var a=o.getComponent(b);a.init(e.value),a.show()}})),t.scrollContent.getComponent(h).height=140*n}))},a.init=function(){var t,e=this,n=new Date,i=this.scrollContent.children[0],o=(null==(t=d.mainGameManager)?void 0:t._boughtNumbers)||[];this.scrollContent.getComponent(h).height=158*(null==o?void 0:o.length),o.forEach((function(t,o){var r=u(i);r.getChildByName("BottomlessButton").getChildByName("Label").getComponent(m).string=(t<10?"0":"")+t.toString(),r.getChildByName("TimeLabel").getComponent(m).string="10:25:30 - "+f.getDateAsString(n),r.setPosition(i.position.x,i.position.y-o*p),e.scrollContent.addChild(r)})),i.active=!1},a.onCloseButtonClick=function(){this._isFromStartMenu&&(d.startUIManager.balanceTabCloseCallback(),this._isFromStartMenu=void 0),t.prototype.hide.call(this)},a.sortHistoryDataWithTimeOrder=function(t,e){return null==t?void 0:t.sort((function(t,e){return new Date(e.create_time).getTime()-new Date(t.create_time).getTime()}))},r(e,[{key:"isFromStartMenu",set:function(t){this._isFromStartMenu=t}}]),e}(g)).prototype,"closeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),D=e(B.prototype,"scrollContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),M=e(B.prototype,"dateItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I=B))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./UIManager3.ts","./AuthenticationPanel.ts","./UIManager4.ts","./GameManager.ts","./UIManager.ts","./BoughtNumber.ts","./NumberBox.ts","./SurroundArrows.ts","./NakamaClient.ts","./BottomPanel.ts","./TopPanel.ts","./TreasurePanel.ts","./BalanceTab.ts","./BingoPopUp.ts","./FullscreenPopUp.ts","./HistoryTab.ts","./NotificationTab.ts","./NumberBoughtTab.ts","./ProfileTab.ts","./ResultPopUp.ts","./TreasureHunterPopUp.ts","./TreasureTab.ts","./HistoryDateItem.ts","./PeriodPicker.ts","./Constant.ts","./Enum.ts","./StaticInstance.ts","./UIBase.ts","./UIManager2.ts","./ConfirmationModal.ts","./NumberPricePanel.ts","./OptionPanel.ts","./PlayButton.ts","./StartMenu.ts","./DataStorage.ts","./Utils.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NakamaClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nakama-js.esm.mjs","./Enum.ts","./DataStorage.ts","./StaticInstance.ts"],(function(e){"use strict";var t,r,n,s,a,c,i,o,u;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator},function(e){c=e.Client},function(e){i=e.IGameMode},function(e){o=e.DataStorage},function(e){u=e.StaticInstance}],execute:function(){var h;s._RF.push({},"d38d1MI+8RGa6Xnq00O5BoW","NakamaClient",void 0);var p=a.ccclass;a.property,e("TEMP_USER_ID","68515a09-ae15-4ff7-96ff-b229e399b77f"),e("NakamaClient",p("NakamaClient")(h=function(){function e(){this.client=void 0,this.socket=void 0,this._session=void 0,this.joinedMatchId=void 0,this.client=new c("defaultkey","dashboard-ws.our-projects.org","443",!0)}var s=e.prototype;return s.initSocket=function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.createSocket(!0);case 2:return this.socket=e.sent,!0,e.next=6,this.socket.connect(this._session,true);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.checkLiveRound=function(e,t){var r=new Date,n=new Date(e+60*t*1e3);return console.log("Round live?: "+(r<n)),r<n},s.authenticateWithEmail=function(){var e=r(n().mark((function e(t){var r,s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.email,s=t.password,!0,e.next=5,this.client.authenticateEmail(r,s,true,"");case 5:return(a=e.sent)&&a.token&&(this._session=a,u.isAuth=!0,o.setAccessToken(a.token),o.setRefreshToken(a.refresh_token)),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),s.logOutSession=function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.isAuth=!1,o.setAccessToken(""),o.setRefreshToken("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.removeObjectStorage=function(){var e=r(n().mark((function e(t,r,s){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.deleteStorageObjects(this.session,{object_ids:[{collection:t,key:r}]});case 2:console.log("Object deleted!");case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),s.writeStorageObject=function(){var e=r(n().mark((function e(t,r,s,a){var c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[{collection:t,key:r,value:s,permission_read:a}],e.next=5,this.client.writeStorageObjects(this.session,c);case 5:i=e.sent,console.log("Write objects: "+i.acks[0].key);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n,s){return e.apply(this,arguments)}}(),s.readStorageObject=function(){var e=r(n().mark((function e(t,r,s){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.client.readStorageObjects(this.session,{object_ids:[{collection:t,key:r,user_id:s||this._session.user_id}]});case 3:return a=e.sent,console.log("Read objects: %o",a.objects),e.abrupt("return",a.objects);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),s.readMultipleStorageObjects=function(){var e=r(n().mark((function e(t,r){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 100,e.next=3,this.client.listStorageObjects(this._session,t,r,100,"");case 3:return s=e.sent,console.log("List objects: %o",s.objects),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.getRoomStorageObject=function(){var e=r(n().mark((function e(t){var r,s,a,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,r=[],e.next=5,this.client.listStorageObjects(this._session,"currentRound",null,10);case 5:s=e.sent,console.log("List objects: %o",s.objects),a=0;case 8:if(!(a<s.objects.length)){e.next=16;break}if((c=s.objects[a]).key!=t){e.next=13;break}return r.push({value:c.value,creatorId:c.user_id,version:c.version,createdAt:new Date(c.create_time)}),e.abrupt("break",16);case 13:a++,e.next=8;break;case 16:return r=r.sort((function(e,t){return t.createdAt-e.createdAt})),e.abrupt("return",r[0]);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.getRoundDataStorageObject=function(){var e=r(n().mark((function e(t,r){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.readStorageObject("round",t,r);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.createMatch=function(){var e=r(n().mark((function e(t){var r,s,a,c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initSocket();case 2:return e.next=4,this.socket.createMatch();case 4:return r=e.sent,s=u.numberPrice,a=u.gameMode==i.FAST?1:10,c=(1==a?"FAST_":"NORMAL_")+s.toString(),o={status:"live",period:t,duration:a,matchId:r.match_id,numberPrice:s,createdAt:(new Date).getTime()},this.joinedMatchId=r.match_id,console.log(r.match_id),e.next=13,this.writeStorageObject("currentRound",c,o,2);case 13:return e.next=15,this.createRoundStorageObject(r.match_id,t);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.createRoundStorageObject=function(){var e=r(n().mark((function e(t,r){var s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.randomTreasureNumbers(),a={id:108,winner:"",period:r,jackpotNumber:18,treasureNumbers:s,remainTreasureNumbers:s,startTime:(new Date).getTime(),numberPrice:u.numberPrice,boughtNumbers:this.randomTreasureNumbers(),treasurePrize:2*u.numberPrice,jackpotPrize:70*u.numberPrice,duration:u.gameMode==i.FAST?1:10},e.next=4,this.writeStorageObject("round",t,a,2);case 4:u.roundData=JSON.parse(JSON.stringify(a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.joinMatch=function(){var e=r(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.socket){e.next=3;break}return e.next=3,this.initSocket();case 3:if(!t){e.next=8;break}return this.joinedMatchId=t,e.next=7,this.socket.joinMatch(t);case 7:e.sent;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.leaveMatch=function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.socket.leaveMatch(this.joinedMatchId);case 2:console.log("Match left!");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initMatchMakerListener=function(){var e=r(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.socket){e.next=3;break}return e.next=3,this.initSocket();case 3:return this.socket.onmatchmakermatched=r(n().mark((function e(r){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.socket.joinMatch(r.match_id);case 2:s=e.sent,console.log(s.match_id);case 4:case"end":return e.stop()}}),e)}))),2,10,"",e.next=9,this.socket.addMatchmaker("",2,10);case 9:e.sent,console.log("Added match maker");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initSocketListener=function(){var e=r(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.socket){e.next=3;break}return e.next=3,this.initSocket();case 3:this.socket.onmatchdata=function(e){var r=e.data,n=(new TextDecoder).decode(r),s=JSON.parse(n);switch(e.op_code){case 101:console.log("A custom opcode.");break;case 102:break;default:console.log("a user just bought %o",e.presence.user_id,n),u.mainGameManager.handleNumberBoughtEvent(s),u.roundData.boughtNumbers.push(s.number.value),u.isJoiner||t.updateRoundDataStorageObject()}};case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.sendMatchData=function(){var e=r(n().mark((function e(t,r){var s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=this.joinedMatchId,1,a=JSON.stringify({number:{value:t,isTreasure:r||!1}}),this.socket.sendMatchState(s,1,a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.sendMatchTime=function(){var e=r(n().mark((function e(t,r){var s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=this.joinedMatchId,102,a=JSON.stringify({time:{minute:t,second:r}}),this.socket.sendMatchState(s,102,a);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.randomTreasureNumbers=function(){for(var e=[],t=0;e.length<5;t++){var r=Math.floor(100*Math.random());e.indexOf(r)<0&&e.push(r)}return e},s.updateRoundDataStorageObject=function(){var e=r(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.roundData,r={id:t.id,period:t.period,winner:t.winner,duration:t.duration,startTime:t.startTime,numberPrice:t.numberPrice,jackpotPrize:t.jackpotPrize,boughtNumbers:t.boughtNumbers,jackpotNumber:t.jackpotNumber,treasurePrize:t.treasurePrize,treasureNumbers:t.treasureNumbers,remainTreasureNumbers:t.remainTreasureNumbers},e.next=4,this.writeStorageObject("round",this.joinedMatchId,r,2);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getGameHistory=function(){var e=r(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.readMultipleStorageObjects("user_round",this.session.user_id),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.removeCurrentRoundObject=function(){var e=r(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeObjectStorage("currentRound",t,r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.testXmlHttp=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&console.log(e.responseText),this.status>=300&&console.log(e.response)},e.onerror=function(){console.log("Error occurred!")},e.open("POST","https://api.revpayment.io/v1/users/random_message",!1),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Client-ID","e1099b5e06354199a4cbcdf83f256751"),e.send()},t(e,[{key:"nClient",get:function(){return this.client}},{key:"session",get:function(){return this._session},set:function(e){this._session=e}},{key:"matchId",get:function(){return this.joinedMatchId}}]),e}())||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var i,o,e,n,r,c,a,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Node},function(t){s=t.UIBase}],execute:function(){var u,l,p,f,y;r._RF.push({},"46745mzW7JPKpfhsw6fESxU","NotificationTab",void 0);var h=c.ccclass,b=c.property;t("NotificationTab",(u=h("NotificationTab"),l=b({type:a}),u((y=i((f=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,e(i,"closeButton",y,n(i)),i}o(i,t);var r=i.prototype;return r.start=function(){},r.update=function(t){},r.init=function(t){},r.onCloseButtonClick=function(){t.prototype.hide.call(this)},i}(s)).prototype,"closeButton",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/NumberBoughtTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./UIBase.ts","./Utils.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,s,c,u,p,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.Label,c=t.UITransform,u=t.instantiate},function(t){p=t.StaticInstance},function(t){g=t.UIBase},function(t){b=t.Utils}],execute:function(){var h,d,f,m,y,B,C,v,N;r._RF.push({},"eddb4UFoqxCu4rLOsHsjtMZ","NumberBoughtTab",void 0);var T=a.ccclass,L=a.property,I=t("ITEM_MARGIN_BOTTOM",160);t("NumberBoughtTab",(h=T("NumberBoughtTab"),d=L({type:l}),f=L({type:l}),m=L({type:s}),h((C=e((B=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"closeButton",C,o(e)),i(e,"scrollContent",v,o(e)),i(e,"periodLabel",N,o(e)),e}n(e,t);var r=e.prototype;return r.init=function(){var t=this,e=new Date,n=this.scrollContent.children[0],i=p.mainGameManager._boughtNumbers,o=p.roundData.period;this.periodLabel.string="Period: "+(o<10?"0":"")+o.toString(),this.scrollContent.getComponent(c).height=160*i.length,i.forEach((function(i,o){var r=u(n);r.getChildByName("BottomlessButton").getChildByName("Label").getComponent(s).string=(i<10?"0":"")+i.toString(),r.getChildByName("TimeLabel").getComponent(s).string="10:25:30 - "+b.getDateAsString(e),r.setPosition(n.position.x,n.position.y-o*I),t.scrollContent.addChild(r)})),n.active=!1},r.onCloseButtonClick=function(){t.prototype.hide.call(this)},e}(g)).prototype,"closeButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=e(B.prototype,"scrollContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),N=e(B.prototype,"periodLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),y=B))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/NumberBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts"],(function(e){"use strict";var t,r,n,a,o,i,s,c,u,m,l,h,p,f,b,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,s=e._decorator,c=e.Node,u=e.SpriteFrame,m=e.Sprite,l=e.instantiate,h=e.Label,p=e.math,f=e.UIOpacity,b=e.Component},function(e){g=e.IBoxState},function(e){S=e.StaticInstance}],execute:function(){var d,F,x,y,E,A,L,N,_,v,M;i._RF.push({},"f6145Z36GtDiL/S5B72gl2v","NumberBox",void 0);var C=s.ccclass,R=s.property;e("NumberBox",(d=C("NumberBox"),F=R({type:c}),x=R({type:u}),y=R({type:u}),E=R({type:u}),d((N=t((L=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"box",N,a(t)),n(t,"normalFrame",_,a(t)),n(t,"selectedFrame",v,a(t)),n(t,"treasureFrame",M,a(t)),t._currentState=g.NORMAL,t}r(t,e);var i=t.prototype;return i.init=function(e){this.box=e,this._currentState=g.NORMAL,this.treasureFrame=S.mainGameManager.firstBox.treasureSFrame,this.normalFrame=S.mainGameManager.firstBox.box.getComponent(m).spriteFrame},i.clone=function(){return l(this.box)},i.getPosition=function(){return this.box.getPosition()},i.setPosition=function(e){this.box.setPosition(e)},i.transform=function(e,t){this.box.children[0].getComponent(h).color=e,this.box.getComponent(m).spriteFrame=t},i.onClick=function(){var e=parseInt(this.box.children[0].getComponent(h).string),t=S.mainGameManager.boxes[e];switch(console.log(t.state),t.state){case g.NORMAL:t.state=g.SELECTED,this._currentState=g.SELECTED,this.transform(p.color(182,0,0,255),this.selectedFrame),S.mainGameManager._selectedNumbers.push(e);break;case g.SELECTED:t.state=g.NORMAL,this._currentState=g.NORMAL,this.transform(p.color(255,255,255,255),this.normalFrame),S.mainGameManager.removeSelectedNumber(e);break;case g.TREASURE:t.state=g.SELECTED,this._currentState=g.SELECTED,this.transform(p.color(182,0,0,255),this.selectedFrame),S.mainGameManager._selectedNumbers.push(e)}},i.checkAndRemoveSurroundArrows=function(e){var t=S.mainGameManager._selectedNumbers;e==t[t.length-1]&&S.mainGameManager.removeSurroundingArrows()},i.showSurroundArrows=function(e){S.mainGameManager.showSurroundArrows(e)},i.makeNormal=function(){this._currentState=g.NORMAL,this.box.getComponent(f).opacity=255,this.transform(p.color(255,255,255,255),this.normalFrame)},i.makeTreasure=function(e){void 0===e&&(e=!1),this._currentState=e?g.BOUGHT:g.TREASURE,this.transform(p.color(192,31,19,255),this.treasureFrame)},i.makeUnavailable=function(e){void 0===e&&(e=!1),e||(this._currentState=g.UNAVAILABLE,this.transform(p.color(255,255,255,255),this.normalFrame)),this.box.getComponent(f).opacity=e?190:100},o(t,[{key:"state",get:function(){return this._currentState},set:function(e){this._currentState=e}},{key:"treasureSFrame",get:function(){return this.treasureFrame}}]),t}(b)).prototype,"box",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=t(L.prototype,"normalFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=t(L.prototype,"selectedFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),M=t(L.prototype,"treasureFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),A=L))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/NumberPricePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./UIBase.ts","./StaticInstance.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,u,l,s,p,f,d,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,l=e.Node,s=e.Label,p=e.director},function(e){f=e.UIType,d=e.IGameMode},function(e){b=e.UIBase},function(e){h=e.StaticInstance}],execute:function(){var m,g,k,y,v,S,w,P,B,I,N,U,x;c._RF.push({},"63cdcXO/iJJFqHVNxWszeJ0","NumberPricePanel",void 0);var L=u.ccclass,M=u.property;e("NumberPricePanel",(m=L("NumberPricePanel"),g=M({type:l}),k=M({type:l}),y=M({type:l}),v=M({type:l}),S=M({type:s}),m((B=t((P=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"oneUnitButton",B,r(t)),i(t,"twoUnitButton",I,r(t)),i(t,"tenUnitButton",N,r(t)),i(t,"backButton",U,r(t)),i(t,"notiLabel",x,r(t)),t._uiManager=void 0,t}n(t,e);var c=t.prototype;return c.onLoad=function(){e.prototype.onLoad.call(this),this.notiLabel.string=""},c.show=function(){e.prototype.show.call(this)},c.hide=function(){e.prototype.hide.call(this)},c.init=function(e){this._uiManager=e},c.onPriceSelect=function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.numberPrice=t,n=(h.gameMode==d.FAST?"FAST_":"NORMAL_")+t.toString(),console.log(n),h.nakamaClient.getRoomStorageObject(n).then(o(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||null==t||!t.value){e.next=11;break}if(n=t.creatorId,i=JSON.parse(JSON.stringify(t.value)),r=(null==i?void 0:i.period)+1,h.nakamaClient.checkLiveRound(i.createdAt,i.duration)){e.next=8;break}h.nakamaClient.createMatch(r).then((function(){h.isJoiner=!1,h.nakamaClient.initSocketListener(),p.loadScene("main")})),e.next=11;break;case 8:return console.log("--- JOINING ---"),e.next=11,h.nakamaClient.readStorageObject("round",i.matchId,n).then(o(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=10;break}return r=JSON.parse(JSON.stringify(null==(n=t[0])?void 0:n.value)),h.roundData=r,h.isJoiner=!0,console.log(r),e.next=7,h.nakamaClient.initSocketListener();case 7:return e.next=9,h.nakamaClient.joinMatch(i.matchId);case 9:p.loadScene("main");case 10:case"end":return e.stop()}}),e)}))));case 11:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.onOneUnitButtonClick=function(){this.onPriceSelect(1)},c.onTwoUnitButtonClick=function(){this.onPriceSelect(2)},c.onTenUnitButtonClick=function(){this.onPriceSelect(10)},c.onBackButtonClick=function(){console.log("back pressed!"),this._uiManager.showUI([f.StartMenu])},c.checkMatchInfo=function(e){var t=h.gameMode==d.FAST?1:10;return(null==e?void 0:e.duration)==t&&(null==e?void 0:e.numberPrice)==h.numberPrice},t}(b)).prototype,"oneUnitButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),I=t(P.prototype,"twoUnitButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),N=t(P.prototype,"tenUnitButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),U=t(P.prototype,"backButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),x=t(P.prototype,"notiLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=P))||w));c._RF.pop()}}}));

System.register("chunks:///_virtual/OptionPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./UIBase.ts","./DataStorage.ts"],(function(t){"use strict";var i,e,n,o,a,r,u,c,s,p,l,f,d,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,u=t.Node,c=t.SpriteFrame,s=t.Sprite},function(t){p=t.UIType,l=t.ICMContext},function(t){f=t.StaticInstance},function(t){d=t.UIBase},function(t){h=t.DataStorage}],execute:function(){var g,y,m,b,B,S,M,I,v,w,A;a._RF.push({},"a1349oJzB9Hrr6WvJ7vNabF","OptionPanel",void 0);var F=r.ccclass,C=r.property;t("OptionPanel",(g=F("OptionPanel"),y=C({type:u}),m=C({type:u}),b=C({type:u}),B=C({type:c}),g((I=i((M=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"audioButton",I,o(i)),n(i,"logoutButton",v,o(i)),n(i,"backButton",w,o(i)),n(i,"secondAudioSprite",A,o(i)),i._uiManager=void 0,i}e(i,t);var a=i.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),f.muteMusic&&this.changeAudioIconSpriteFrame()},a.show=function(){t.prototype.show.call(this)},a.hide=function(){t.prototype.hide.call(this)},a.init=function(t){this._uiManager=t},a.onBackButtonClick=function(){this._uiManager.showUI([p.StartMenu])},a.onLogOutButtonClick=function(){this._uiManager.showConfirmationModal(l.LOGOUT)},a.onAudioButtonClick=function(){h.setIsMusicMute(!f.muteMusic),f.muteMusic=!f.muteMusic,this.changeAudioIconSpriteFrame()},a.changeAudioIconSpriteFrame=function(){var t=this.audioButton.getComponent(s).spriteFrame;this.audioButton.getComponent(s).spriteFrame=this.secondAudioSprite,this.secondAudioSprite=t},i}(d)).prototype,"audioButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=i(M.prototype,"logoutButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=i(M.prototype,"backButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),A=i(M.prototype,"secondAudioSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),S=M))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/PeriodPicker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,o,n,c,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,s=e.Node,a=e.Component}],execute:function(){var p,u,d,l,f;n._RF.push({},"d7f8e0cA4ZDw5NOYCPHwCyh","PeriodPicker",void 0);var y=c.ccclass,P=c.property;e("PeriodPicker",(p=y("PeriodPicker"),u=P({type:s}),p((f=t((l=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,i(t,"dropdownList",f,o(t)),t}r(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.onDropdownClick=function(){this.dropdownList.active=!this.dropdownList.active},t}(a)).prototype,"dropdownList",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),d=l))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var n,o,i,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){e=t.UIBase}],execute:function(){var a;o._RF.push({},"be95ap4JDJDibIR+4kYp++N","PlayButton",void 0);var r=i.ccclass;i.property,t("PlayButton",r("PlayButton")(a=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._uiManager=void 0,n}n(o,t);var i=o.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this)},i.show=function(){t.prototype.show.call(this)},i.hide=function(){t.prototype.hide.call(this)},i.init=function(t){this._uiManager=t},i.onClick=function(){this._uiManager.navigateMainScreen()},o}(e))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,i,o,n,r,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node},function(t){u=t.UIBase}],execute:function(){var c,s,p,f,b,y,d,B,g,h,w,m,P;r._RF.push({},"5fbf1kaIiFBraw8dJ8akcOU","ProfileTab",void 0);var v=a.ccclass,z=a.property;t("ProfileTab",(c=v("ProfileTab"),s=z({type:l}),p=z({type:l}),f=z({type:l}),b=z({type:l}),y=z({type:l}),c((g=e((B=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"closeButton",g,n(e)),o(e,"scrollContent",h,n(e)),o(e,"editNameButton",w,n(e)),o(e,"editPasswordButton",m,n(e)),o(e,"editCountryButton",P,n(e)),e}i(e,t);var r=e.prototype;return r.init=function(t){},r.onCloseButtonClick=function(){t.prototype.hide.call(this)},e}(u)).prototype,"closeButton",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),h=e(B.prototype,"scrollContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=e(B.prototype,"editNameButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),m=e(B.prototype,"editPasswordButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),P=e(B.prototype,"editCountryButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),d=B))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResultPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./UIBase.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,l,u,c,p,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,l=t.Node,u=t.instantiate,c=t.UITransform},function(t){p=t.StaticInstance},function(t){b=t.UIBase},function(t){h=t.Utils}],execute:function(){var g,f,m,d,y,v,N,L,C,P,_,U,w;r._RF.push({},"8d274q+TRhIZohOZjN5xF7j","ResultPopUp",void 0);var z=s.ccclass,D=s.property;t("ResultPopUp",(g=z("ResultPopUp"),f=D({type:a}),m=D({type:a}),d=D({type:l}),y=D({type:l}),v=D({type:a}),g((C=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"periodLabel",C,o(e)),n(e,"timeLabel",P,o(e)),n(e,"scrollContent",_,o(e)),n(e,"closeButton",U,o(e)),n(e,"noNumberLabel",w,o(e)),e._boughtNumbers=void 0,e}i(e,t);var r=e.prototype;return r.init=function(){this._boughtNumbers=p.mainGameManager._boughtNumbers;var t=p.roundData.period,e=new Date(p.roundData.startTime);this.periodLabel.string=(t<10?"0":"")+t.toString(),this.timeLabel.string="10:00 - "+h.getDateAsString(e),this.displayNumbers()},r.onCloseButtonClick=function(){t.prototype.hide.call(this)},r.displayNumbers=function(){if(this._boughtNumbers.length>0){var t=[],e=0,i=0,n=this.scrollContent.children[0];t.push(n);for(var o=0;o<this._boughtNumbers.length;o++){i++;var r=t[t.length-1],s=r.getPosition(),l=u(r);l.active=!0,l.children[1].getComponent(a).string=this._boughtNumbers[o].toString(),o>0&&(6==i?(e++,i=1,l.setPosition(n.getPosition().x,s.y-144)):l.setPosition(s.x+164,s.y)),t.push(l),this.scrollContent.addChild(l)}this.scrollContent.getComponent(c).height=190*e}else this.noNumberLabel.node.active=!0},e}(b)).prototype,"periodLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),P=e(L.prototype,"timeLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=e(L.prototype,"scrollContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),U=e(L.prototype,"closeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=e(L.prototype,"noNumberLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),N=L))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/StartMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./UIBase.ts"],(function(t){"use strict";var n,i,o,e,r,a,u,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node},function(t){l=t.ICMContext},function(t){c=t.UIBase}],execute:function(){var s,p,f,h,y,B,b,g,M,C,w,k,m,_,d;r._RF.push({},"3f346b2kCtMFaLz1WnPrIlN","StartMenu",void 0);var z=a.ccclass,v=a.property;t("StartMenu",(s=z("StartMenu"),p=v({type:u}),f=v({type:u}),h=v({type:u}),y=v({type:u}),B=v({type:u}),b=v({type:u}),s((C=n((M=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"fastButton",C,e(n)),o(n,"normalButton",w,e(n)),o(n,"historyButton",k,e(n)),o(n,"walletButton",m,e(n)),o(n,"quitButton",_,e(n)),o(n,"optionButton",d,e(n)),n._uiManager=void 0,n}i(n,t);var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this)},r.show=function(){t.prototype.show.call(this)},r.hide=function(){t.prototype.hide.call(this)},r.init=function(t){this._uiManager=t},r.onFastButtonClick=function(){this._uiManager.onFastButtonClick()},r.onNormalButtonClick=function(){this._uiManager.onNormalButtonClick()},r.onQuitButtonClick=function(){this._uiManager.showConfirmationModal(l.START)},r.onWalletButtonClick=function(){this._uiManager.showBalanceTab()},r.onHistoryButtonClick=function(){this._uiManager.showHistoryTab()},r.onOptionButtonClick=function(){this._uiManager.onOptionButtonClick()},r.onProfileButtonClick=function(){this._uiManager.onProfileButtonClick()},n}(c)).prototype,"fastButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),w=n(M.prototype,"normalButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),k=n(M.prototype,"historyButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),m=n(M.prototype,"walletButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=n(M.prototype,"quitButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),d=n(M.prototype,"optionButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=M))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaticInstance.ts",["cc","./NakamaClient.ts","./DataStorage.ts"],(function(a){"use strict";var n,t,e,i;return{setters:[function(a){n=a.cclegacy,t=a._decorator},function(a){e=a.NakamaClient},function(a){i=a.DataStorage}],execute:function(){var r,c;n._RF.push({},"e6c15HM9bBFn4r82OMYHEEV","StaticInstance",void 0);var o=t.ccclass;t.property,a("StaticInstance",o("StaticInstance")(((c=function(){function a(){}return a.setAuthUIManager=function(n){a.authUIManager=n},a.setStartUIManager=function(n){a.startUIManager=n},a.setMainUIManager=function(n){a.mainUIManager=n},a.setMainGameManager=function(n){a.mainGameManager=n},a.setLoadingUIManager=function(n){a.loadingUIManager=n},a.initNakamaClient=function(){this.nakamaClient=new e,a.isAuth=!!i.getAccessToken()},a}()).authUIManager=void 0,c.startUIManager=void 0,c.mainUIManager=void 0,c.mainGameManager=void 0,c.loadingUIManager=void 0,c.nakamaClient=void 0,c.isAuth=void 0,c.balance=0,c.muteMusic=!1,c.gameMode=void 0,c.numberPrice=void 0,c.roundData=void 0,c.isJoiner=!1,c.donePreloading=!1,r=c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/SurroundArrows.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts"],(function(t){"use strict";var e,r,n,o,s,a,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Tween,s=t.tween,a=t.Vec3,c=t.Component},function(t){u=t.StaticInstance}],execute:function(){var i;r._RF.push({},"7a0afAbDO9DV7fu+2ci8f1I","SurroundArrows",void 0);var l=n.ccclass;n.property,t("SurroundArrows",l("SurroundArrows")(i=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.onLoad=function(){var t=u.mainGameManager._treasureNumbers.length;o.stopAllByTarget(this.node),s(this.node).repeatForever(s(this.node).to(.5,{scale:new a(1.05,1.05)}).delay(.3).to(.5,{scale:new a(.95,.95)})).start(),s(this.node.getChildByName("HintText")).delay(t>0?2:0).to(0,{active:!1}).start()},r}(c))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/TopPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./Enum.ts","./UIBase.ts","./StaticInstance.ts"],(function(e){"use strict";var t,n,a,i,o,r,s,u,c,l,d,h,g,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Label,l=e.macro,d=e.director},function(e){h=e.Utils},function(e){g=e.IGameMode},function(e){m=e.UIBase},function(e){p=e.StaticInstance}],execute:function(){var b,f,w,v,R,S,L,M,k,C,y,T,N,_,x;s._RF.push({},"4e17cSuwK5HCITCOcANirg5","TopPanel",void 0);var B=u.ccclass,D=u.property;e("TopPanel",(b=B("TopPanel"),f=D({type:c}),w=D({type:c}),v=D({type:c}),R=D({type:c}),S=D({type:c}),L=D({type:c}),b((C=t((k=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"countdownLabel",C,i(t)),a(t,"totalTicketLabel",y,i(t)),a(t,"balanceLabel",T,i(t)),a(t,"periodLabel",N,i(t)),a(t,"dateLabel",_,i(t)),a(t,"nextGameCountdownLabel",x,i(t)),t._time=new Date,t._countdown=new Date,t._uiManager=void 0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this)},s.show=function(){e.prototype.show.call(this)},s.hide=function(){e.prototype.hide.call(this)},s.init=function(e){this._uiManager=e,this.updateBalanceLabel(p.mainGameManager.balance);var t=new Date,n=p.roundData.startTime,a=new Date(n+60*p.roundData.duration*1e3),i=Math.round(Math.abs((a.getTime()-t.getTime())/1e3)),o=(p.gameMode,g.FAST,Math.floor(i/60)),r=i%60;console.log("Now: "+t.toLocaleString()),console.log("Expire: "+a.toLocaleString()),console.log("Min: "+o),console.log("Sec: "+r),this._time.setMinutes(o),this._time.setSeconds(r),this.countdownLabel.string="--:--",this.dateLabel.string=h.getDateAsString(this._time),this.periodLabel.string=(p.roundData.period<10?"0":"")+p.roundData.period.toString(),
//!StaticInstance.isJoiner
this.schedule(this.countdown,1,l.REPEAT_FOREVER)},s.onNumberBoughtTabClick=function(){this._uiManager.onNumberBoughtTabClick()},s.obBalanceTabClick=function(){this._uiManager.onBalanceTabClick()},s.updateTotalTicketBought=function(e){this.totalTicketLabel.string=(e<10?"0":"")+e.toString()},s.updateBalanceLabel=function(e){this.balanceLabel.string=e.toString()},s.countdown=function(){var e=this._time.getTime();e-=1e3,this._time=new Date(e);var t=p.roundData.jackpotNumber,n="0"+this._time.getMinutes(),a=(this._time.getSeconds()<10?"0":"")+this._time.getSeconds();this._time.getMinutes()+this._time.getSeconds()==0?(this.unschedule(this.countdown),this.countdownLabel.string=n+":"+a,this.showRevealResultBox(t),p.mainUIManager.toggleBuyButton(!1),p.mainUIManager.showRoundResult(t),p.mainGameManager.showRestTreasureNumbers(),p.mainGameManager.saveUserCurrentRoundData(),this.handleGameEnd()):this.countdownLabel.string=n+":"+a},s.showRevealResultBox=function(e){var t=this.node.getChildByName("RevealResultBox");t.active=!0,t.children[0].getComponent(c).string=(e<10?"0":"")+e.toString()},s.hideRevealResultBox=function(){this.node.getChildByName("RevealResultBox").active=!1},s.restartRound=function(){p.mainGameManager.balance>0&&(this.hideRevealResultBox(),p.mainGameManager.restartRound(),p.mainUIManager.closeResultPopUp(),p.mainUIManager.toggleBuyButton(!0),p.mainUIManager.updateTopPanelTotalTicketBought(),p.mainGameManager.initDataFromServer(),this.node.getChildByName("CountdownPanel").active=!1,this.node.getChildByName("MatchEndPanel").active=!1,this.init(this._uiManager))},s.countdownNextGame=function(){var e=this._countdown.getTime();e-=1e3,this._countdown=new Date(e);var t=(this._countdown.getSeconds()<10?"0":"")+this._countdown.getSeconds();0==this._countdown.getSeconds()?(this.unschedule(this.countdownNextGame),this.nextGameCountdownLabel.string="00:"+t,p.mainUIManager.closeResultPopUp(),this.node.getChildByName("MatchEndPanel").active=!0):(1==this._countdown.getSeconds()&&p.nakamaClient.leaveMatch().then((function(){console.log("LEAVE MATCH")})),this.nextGameCountdownLabel.string="00:"+t)},s.handleGameEnd=function(){this._countdown.setMinutes(0),this._countdown.setSeconds(30),this.nextGameCountdownLabel.string="00:30",this.node.getChildByName("CountdownPanel").active=!0,this.schedule(this.countdownNextGame,1,l.REPEAT_FOREVER)},s.updateTimeLabelWithMinSec=function(e,t){var n=(e<10?"0":"")+e.toString(),a=(t<10?"0":"")+t.toString(),i=p.roundData.jackpotNumber;e+t==0?(this.countdownLabel.string=n+":"+a,this.showRevealResultBox(i),p.mainUIManager.toggleBuyButton(!1),p.mainUIManager.showRoundResult(i),p.mainGameManager.showRestTreasureNumbers(),p.mainGameManager.saveUserCurrentRoundData(),this.handleGameEnd()):this.countdownLabel.string=n+":"+a},s.handleJoinNextPeriod=function(){var e=this;console.log("--- joining next period ---");p.roundData.id;var t=(p.gameMode==g.FAST?"FAST_":"NORMAL_")+p.numberPrice.toString();p.nakamaClient.getRoomStorageObject(t).then(o(r().mark((function t(n){var a,i,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||null==n||!n.value){t.next=12;break}if(a=n.creatorId,i=JSON.parse(JSON.stringify(n.value)),s=(null==i?void 0:i.period)+1,p.nakamaClient.checkLiveRound(i.createdAt,i.duration)){t.next=9;break}console.log("--- CREATING ---"),p.nakamaClient.createMatch(s).then((function(){p.isJoiner=!1,p.nakamaClient.initSocketListener(),e.restartRound()})),t.next=12;break;case 9:return console.log("--- JOINING ---"),t.next=12,p.nakamaClient.readStorageObject("round",i.matchId,a).then(o(r().mark((function t(n){var a,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n&&n.length>0)){t.next=10;break}return o=JSON.parse(JSON.stringify(null==(a=n[0])?void 0:a.value)),p.roundData=o,p.isJoiner=!0,console.log(o),t.next=7,p.nakamaClient.initSocketListener();case 7:return t.next=9,p.nakamaClient.joinMatch(i.matchId);case 9:e.restartRound();case 10:case"end":return t.stop()}}),t)}))));case 12:case"end":return t.stop()}}),t)}))))},s.handleFetchNewRound=function(){var e=this;console.log("--- in handle ---");var t=p.roundData.id;p.nakamaClient.readStorageObject("currentRound","1").then(o(r().mark((function n(a){var i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=JSON.parse(JSON.stringify(a[0].value)),o=i.matchId,t==o){n.next=5;break}return n.next=5,p.nakamaClient.readStorageObject("round",o).then((function(t){if(t&&t.length>0){var n,a=JSON.parse(JSON.stringify(null==(n=t[0])?void 0:n.value));p.roundData=a,console.log(a),p.nakamaClient.checkLiveRound(a.startTime,a.duration)&&(e.unschedule(e.handleFetchNewRound),p.nakamaClient.initSocketListener(),p.nakamaClient.joinMatch(o),e.nextGameCountdownLabel.string="00:30",console.log("---- START NEW ROUND! ----"),e.restartRound())}}));case 5:case"end":return n.stop()}}),n)}))))},s.onQuit=function(){d.loadScene("start")},t}(m)).prototype,"countdownLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),y=t(k.prototype,"totalTicketLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),T=t(k.prototype,"balanceLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),N=t(k.prototype,"periodLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=t(k.prototype,"dateLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),x=t(k.prototype,"nextGameCountdownLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),M=k))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureHunterPopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./UIBase.ts"],(function(e){"use strict";var t,r,n,i,o,a,s,u,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Label,u=e.Node},function(e){c=e.StaticInstance},function(e){l=e.UIBase}],execute:function(){var p,b,f,h,g,y,z,d,v;o._RF.push({},"c3b0fsoczdOsrKkchhUIHSb","TreasureHunterPopUp",void 0);var L=a.ccclass,m=a.property;e("TreasureHunterPopUp",(p=L("TreasureHunterPopUp"),b=m({type:s}),f=m({type:u}),h=m({type:s}),p((z=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"prizeLabel",z,i(t)),n(t,"closeButton",d,i(t)),n(t,"treasureNumbersLabel",v,i(t)),t}r(t,e);var o=t.prototype;return o.init=function(e){var t="";this.prizeLabel.string="$ "+(e.length*c.roundData.treasurePrize).toString();for(var r=0;r<e.length;r++)console.log(e[r]),t+=(e[r]<10?"0":"")+e[r].toString()+(r<e.length-1?"  ":"");this.treasureNumbersLabel.string=t},o.onCloseButtonClick=function(){e.prototype.hide.call(this)},t}(l)).prototype,"prizeLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),d=t(y.prototype,"closeButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=t(y.prototype,"treasureNumbersLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),g=y))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/TreasurePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var r,t,i,n,a,o,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label},function(e){c=e.UIBase}],execute:function(){var l,u,p,f,h;a._RF.push({},"089594RYHpCG6lz2brrWFHw","TreasurePanel",void 0);var y=o.ccclass,d=o.property;e("TreasurePanel",(l=y("TreasurePanel"),u=d({type:s}),l((h=r((f=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"treasurePriceLabel",h,n(r)),r._uiManager=void 0,r}t(r,e);var a=r.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this)},a.show=function(){e.prototype.show.call(this)},a.hide=function(){e.prototype.hide.call(this)},a.init=function(e){this._uiManager=e},r}(c)).prototype,"treasurePriceLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./UIBase.ts","./StaticInstance.ts"],(function(e){"use strict";var t,i,n,r,a,o,s,l,c,u,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Label,c=e.instantiate},function(e){u=e.Utils},function(e){p=e.UIBase},function(e){b=e.StaticInstance}],execute:function(){var f,d,g,h,y,m,v,C,L,T,S;a._RF.push({},"d6a0aMKabtGsa3hSS76sC9j","TreasureTab",void 0);var B=o.ccclass,w=o.property;e("TreasureTab",(f=B("TreasureTab"),d=w({type:s}),g=w({type:s}),h=w({type:l}),y=w({type:l}),f((C=t((v=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"closeButton",C,r(t)),n(t,"numbersContainer",L,r(t)),n(t,"periodLabel",T,r(t)),n(t,"timeLabel",S,r(t)),t}i(t,e);var a=t.prototype;return a.init=function(e){var t=this,i=b.roundData,n=b.mainGameManager._boughtTreasures;this.timeLabel.string="10:00 - "+u.getDateAsString(new Date),this.periodLabel.string="Period: "+(i.period<10?"0":"")+i.period.toString(),n.forEach((function(e){var i=c(t.numbersContainer.children[0]);i.active=!0,i.getChildByName("Label").getComponent(l).string=e.toString(),t.numbersContainer.addChild(i)}))},a.onCloseButtonClick=function(){e.prototype.hide.call(this)},t}(p)).prototype,"closeButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),L=t(v.prototype,"numbersContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),T=t(v.prototype,"periodLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),S=t(v.prototype,"timeLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Component}],execute:function(){var c,u,p,h,l;r._RF.push({},"261b3ze/IRNX5FMhHypv5kP","UIBase",void 0);var f=s.ccclass,d=s.property;t("UIBase",(c=f("UIBase"),u=d({displayName:"PROPERTY"}),c((l=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"isShowInit",l,o(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.isShowInit?this.show():this.hide()},r.show=function(){this.node.active=!0},r.hide=function(){this.node.active=!1},r.update=function(t){},e}(a)).prototype,"isShowInit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=h))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./Enum.ts","./TopPanel.ts","./BottomPanel.ts","./TreasurePanel.ts","./HistoryTab.ts","./ProfileTab.ts","./BalanceTab.ts","./TreasureTab.ts","./NotificationTab.ts","./NumberBoughtTab.ts","./ResultPopUp.ts","./BingoPopUp.ts","./TreasureHunterPopUp.ts","./Constant.ts","./ConfirmationModal.ts"],(function(t){"use strict";var e,n,i,a,o,r,u,l,s,p,c,h,b,f,T,d,m,g,P,y,B,C,M,v,U,w,_,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,u=t.Prefab,l=t.Node,s=t.AudioSource,p=t.instantiate,c=t.Component},function(t){h=t.StaticInstance},function(t){b=t.UIType,f=t.ICMContext},function(t){T=t.TopPanel},function(t){d=t.BottomPanel},function(t){m=t.TreasurePanel},function(t){g=t.HistoryTab},function(t){P=t.ProfileTab},function(t){y=t.BalanceTab},function(t){B=t.TreasureTab},function(t){C=t.NotificationTab},function(t){M=t.NumberBoughtTab},function(t){v=t.ResultPopUp},function(t){U=t.BingoPopUp},function(t){w=t.TreasureHunterPopUp},function(t){_=t.CONSTANT},function(t){N=t.ConfirmationModal}],execute:function(){var k,z,I,H,R,L,S,A,E,D,G,O,x,j,F,Z,K,W,J,q,Q,V,X,Y,$,tt,et,nt,it,at,ot,rt;o._RF.push({},"d4dfeZ/Ti9A1KE3TZlpfcdb","UIManager",void 0);var ut=r.ccclass,lt=r.property;(null==(k=h.roundData)?void 0:k.jackpotPrize)||_.JACKPOT_PRIZE,t("UIManager",(z=ut("UIManager"),I=lt({type:u}),H=lt({type:u}),R=lt({type:u}),L=lt({type:u}),S=lt({type:u}),A=lt({type:u}),E=lt({type:u}),D=lt({type:u}),G=lt({type:u}),O=lt({type:u}),x=lt({type:u}),j=lt({type:u}),F=lt({type:u}),Z=lt({type:l}),z((J=e((W=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"topPanel",J,a(e)),i(e,"bottomPanel",q,a(e)),i(e,"treasurePanel",Q,a(e)),i(e,"numberBoughtTab",V,a(e)),i(e,"balanceTab",X,a(e)),i(e,"notificationTab",Y,a(e)),i(e,"treasureTab",$,a(e)),i(e,"historyTab",tt,a(e)),i(e,"profileTab",et,a(e)),i(e,"resultPopUp",nt,a(e)),i(e,"bingoPopUp",it,a(e)),i(e,"treasureHunterPopUp",at,a(e)),i(e,"confirmationModal",ot,a(e)),i(e,"backButton",rt,a(e)),e.uiMap=new Map,e._currentTab=void 0,e}n(e,t);var o=e.prototype;return o.update=function(){var t=h.muteMusic;this.node.parent.getComponent(s).volume=t?0:1},o.onLoad=function(){h.setMainUIManager(this),this.initTopPanel(),this.initBottomPanel(),this.initTreasurePanel(),h.mainUIManager.showUI([b.TopPanel,b.BottomPanel,b.TreasurePanel])},o.showUI=function(t){this.uiMap.forEach((function(e,n){t.indexOf(n)>-1?null==e||e.show():null==e||e.hide()}))},o.initConfirmationModal=function(t){var e=p(this.confirmationModal);this.node.addChild(e);var n=e.getComponent(N);n.init(t),n.show()},o.initBottomPanel=function(){var t=p(this.bottomPanel);this.node.addChild(t),t.setPosition(0,0);var e=t.getComponent(d);e.init(this),this.uiMap.set(b.BottomPanel,e)},o.initTreasurePanel=function(){var t=p(this.treasurePanel);this.node.addChild(t);var e=t.getComponent(m);e.init(this),this.uiMap.set(b.TreasurePanel,e)},o.initTopPanel=function(){var t=p(this.topPanel);this.node.addChild(t);var e=t.getComponent(T);e.init(this),this.uiMap.set(b.TopPanel,e)},o.onNumberBoughtTabClick=function(){var t=p(this.numberBoughtTab);this.node.addChild(t);var e=t.getComponent(M);e.init(),e.show(),this._currentTab=b.NumberBoughtTab,this.uiMap.set(b.NumberBoughtTab,e)},o.onBalanceTabClick=function(){var t=p(this.balanceTab);this.node.addChild(t);var e=t.getComponent(y);e.init(),e.show(),this._currentTab=b.BalanceTab,this.uiMap.set(b.BalanceTab,e)},o.onNotificationTabClick=function(){var t=p(this.notificationTab);this.node.addChild(t);var e=t.getComponent(C);e.init(this),e.show(),this._currentTab=b.NotificationTab,this.uiMap.set(b.NotificationTab,e)},o.onTreasureTabClick=function(){var t=p(this.treasureTab);this.node.addChild(t);var e=t.getComponent(B);e.init(this),e.show(),this._currentTab=b.TreasureTab,this.uiMap.set(b.TreasureTab,e)},o.onHistoryTabClick=function(){var t=p(this.historyTab);this.node.addChild(t);var e=t.getComponent(g);e.show(),this._currentTab=b.HistoryTab,this.uiMap.set(b.HistoryTab,e)},o.onProfileTabClick=function(){var t=p(this.profileTab);this.node.addChild(t);var e=t.getComponent(P);e.init(this),e.show(),this._currentTab=b.ProfileTab,this.uiMap.set(b.ProfileTab,e)},o.onBackButtonClick=function(){this.showConfirmationModal(f.MAIN)},o.onBuyButtonClick=function(){var t=h.numberPrice,e=h.mainGameManager,n=e._selectedNumbers.length,i=e._selectedNumbers.length*t;if(n>0&&e.balance>=n*t){e.onBuyButtonClick();var a=e.balance;e.balance=a-i,this.updateTopPanelBalanceLabel(a-i),this.updateTopPanelTotalTicketBought()}else console.log("No numbers selected OR not enough balance!")},o.updateTopPanelTotalTicketBought=function(){var t=this.uiMap.get(b.TopPanel),e=h.mainGameManager,n=e._selectedNumbers.length+e._boughtNumbers.length;t.updateTotalTicketBought(n),e.updateBoughtAndSelectedNumbers()},o.updateTopPanelBalanceLabel=function(t){this.uiMap.get(b.TopPanel).updateBalanceLabel(t)},o.toggleBuyButton=function(t){this.uiMap.get(b.BottomPanel).toggleBuyButton(t)},o.showTreasureHunterPopUp=function(t){var e=p(this.treasureHunterPopUp);this.node.addChild(e);var n=e.getComponent(w);n.init(t),n.show(),this._currentTab=b.TreasureHunterPopUp,this.uiMap.set(b.TreasureHunterPopUp,n)},o.showResultPopUp=function(){var t=this,e=p(this.resultPopUp);this.node.addChild(e);var n=e.getComponent(v);n.init(),n.show(),null!=this._currentTab&&this.uiMap.forEach((function(e,n){n==t._currentTab&&(null==e||e.hide())})),this._currentTab=b.ResultPopUp,this.uiMap.set(b.ResultPopUp,n)},o.showBingoPopUp=function(){var t=this,e=p(this.bingoPopUp);this.node.addChild(e);var n=e.getComponent(U);n.init(),n.show(),null!=this._currentTab&&this.uiMap.forEach((function(e,n){n==t._currentTab&&(null==e||e.hide())})),this._currentTab=b.BingoPopUp,this.uiMap.set(b.BingoPopUp,n)},o.closeResultPopUp=function(){var t=this;this._currentTab!=b.BingoPopUp&&this._currentTab!=b.ResultPopUp||(this.uiMap.forEach((function(e,n){n==t._currentTab&&(null==e||e.hide())})),this._currentTab=void 0)},o.showRoundResult=function(t){h.mainGameManager._boughtNumbers.indexOf(t)>-1?(this.showBingoPopUp(),h.mainGameManager.balance+=h.roundData.jackpotPrize,this.updateTopPanelBalanceLabel(h.mainGameManager.balance)):this.showResultPopUp()},o.showConfirmationModal=function(t){this.initConfirmationModal(t)},o.updateTimeLabelFromWS=function(t,e){this.uiMap.get(b.TopPanel).updateTimeLabelWithMinSec(t,e)},e}(c)).prototype,"topPanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),q=e(W.prototype,"bottomPanel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Q=e(W.prototype,"treasurePanel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),V=e(W.prototype,"numberBoughtTab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),X=e(W.prototype,"balanceTab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Y=e(W.prototype,"notificationTab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),$=e(W.prototype,"treasureTab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),tt=e(W.prototype,"historyTab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),et=e(W.prototype,"profileTab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),nt=e(W.prototype,"resultPopUp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),it=e(W.prototype,"bingoPopUp",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),at=e(W.prototype,"treasureHunterPopUp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ot=e(W.prototype,"confirmationModal",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),rt=e(W.prototype,"backButton",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),K=W))||K));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StartMenu.ts","./PlayButton.ts","./Enum.ts","./BalanceTab.ts","./NumberPricePanel.ts","./StaticInstance.ts","./OptionPanel.ts","./ConfirmationModal.ts","./DataStorage.ts","./HistoryTab.ts","./nakama-js.esm.mjs"],(function(t){"use strict";var n,e,i,a,o,r,s,c,u,l,h,p,f,b,d,m,M,g,y,P,T,C,v,S,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Prefab,l=t.AudioSource,h=t.instantiate,p=t.Component,f=t.director},function(t){b=t.StartMenu},function(t){d=t.PlayButton},function(t){m=t.UIType,M=t.IGameMode},function(t){g=t.BalanceTab},function(t){y=t.NumberPricePanel},function(t){P=t.StaticInstance},function(t){T=t.OptionPanel},function(t){C=t.ConfirmationModal},function(t){v=t.DataStorage},function(t){S=t.HistoryTab},function(t){w=t.Session}],execute:function(){var I,k,U,B,x,A,N,z,O,H,R,D,F,L,_,j,E;s._RF.push({},"d79254JYFZDe7TmKd92L5gh","UIManager",void 0);var G=c.ccclass,Y=c.property;t("UIManager",(I=G("UIManager"),k=Y({type:u}),U=Y({type:u}),B=Y({type:u}),x=Y({type:u}),A=Y({type:u}),N=Y({type:u}),z=Y({type:u}),I((R=n((H=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"playButton",R,a(n)),i(n,"startMenu",D,a(n)),i(n,"numberPricePanel",F,a(n)),i(n,"balanceTab",L,a(n)),i(n,"historyTab",_,a(n)),i(n,"optionPanel",j,a(n)),i(n,"confirmationModal",E,a(n)),n.uiMap=new Map,n}e(n,t);var s=n.prototype;return s.update=function(){var t=P.muteMusic;this.node.parent.getComponent(l).volume=t?0:1},s.onLoad=function(){P.setStartUIManager(this),this.initStartMenu(),this.initOptionPanel(),P.muteMusic=v.getIsMusicMute(),this.loadSession(),this.navigateMainScreen()},s.loadSession=function(){var t=o(r().mark((function t(){var n,e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v.getAccessToken(),e=v.getRefreshToken(),!n||!e){t.next=29;break}if(!(i=w.restore(n,e)).isrefreshexpired((new Date).getTime())){t.next=22;break}return t.prev=5,P.initNakamaClient(),t.next=9,P.nakamaClient.nClient.sessionRefresh(i);case 9:i=t.sent,P.nakamaClient.session=i,t.next=20;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0),P.isAuth=!1,v.setAccessToken(""),v.setRefreshToken(""),f.loadScene("auth");case 20:t.next=27;break;case 22:console.log("--- Session expired ---"),P.isAuth=!1,v.setAccessToken(""),v.setRefreshToken(""),f.loadScene("auth");case 27:t.next=31;break;case 29:P.isAuth=!1,f.loadScene("auth");case 31:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(){return t.apply(this,arguments)}}(),s.initPlayButton=function(){var t=h(this.playButton);this.node.addChild(t),t.setPosition(0,-330);var n=t.getComponent(d);n.init(this),this.uiMap.set(m.PlayButton,n)},s.initStartMenu=function(){var t=h(this.startMenu);this.node.addChild(t);var n=t.getComponent(b);n.init(this),this.uiMap.set(m.StartMenu,n)},s.initNumberPricePanel=function(){var t=h(this.numberPricePanel);this.node.addChild(t);var n=t.getComponent(y);n.init(this),this.uiMap.set(m.NumberPricePanel,n)},s.initBalanceTab=function(){var t=h(this.balanceTab);this.node.addChild(t);var n=t.getComponent(g);n.isFromStartMenu=!0,n.init(),this.uiMap.set(m.BalanceTab,n)},s.initHistoryTab=function(){var t=h(this.historyTab);this.node.addChild(t);var n=t.getComponent(S);n.isFromStartMenu=!0,this.uiMap.set(m.HistoryTab,n)},s.initConfirmationModal=function(t){var n=h(this.confirmationModal);this.node.addChild(n);var e=n.getComponent(C);e.init(t),e.show()},s.initOptionPanel=function(){var t=h(this.optionPanel);this.node.addChild(t);var n=t.getComponent(T);n.init(this),this.uiMap.set(m.OptionPanel,n)},s.showUI=function(t){this.uiMap.forEach((function(n,e){t.indexOf(e)>-1?null==n||n.show():null==n||n.hide()}))},s.navigateMainScreen=function(){console.log("Clicked PLAY!"),P.startUIManager.showUI([m.StartMenu])},s.onFastButtonClick=function(){P.gameMode=M.FAST,this.initNumberPricePanel(),P.startUIManager.showUI([m.NumberPricePanel])},s.onNormalButtonClick=function(){P.gameMode=M.NORMAL,this.initNumberPricePanel(),P.startUIManager.showUI([m.NumberPricePanel])},s.showBalanceTab=function(){this.initBalanceTab(),P.startUIManager.showUI([m.BalanceTab])},s.showHistoryTab=function(){this.initHistoryTab(),P.startUIManager.showUI([m.HistoryTab])},s.balanceTabCloseCallback=function(){P.startUIManager.showUI([m.StartMenu])},s.onOptionButtonClick=function(){this.showUI([m.OptionPanel])},s.showConfirmationModal=function(t){this.initConfirmationModal(t)},s.onProfileButtonClick=function(){console.log("Profile click!")},n}(p)).prototype,"playButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),D=n(H.prototype,"startMenu",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),F=n(H.prototype,"numberPricePanel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),L=n(H.prototype,"balanceTab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=n(H.prototype,"historyTab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),j=n(H.prototype,"optionPanel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),E=n(H.prototype,"confirmationModal",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),O=H))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./DataStorage.ts","./StaticInstance.ts","./AuthenticationPanel.ts"],(function(t){"use strict";var n,e,i,a,o,c,u,r,s,h,l,p,f,d,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,u=t.Prefab,r=t.AudioSource,s=t.instantiate,h=t.director,l=t.Component},function(t){p=t.UIType},function(t){f=t.DataStorage},function(t){d=t.StaticInstance},function(t){g=t.AuthenticationPanel}],execute:function(){var M,A,v,I,P;o._RF.push({},"ebcbdjVFMZP/Ze1T6JkyBHZ","UIManager",void 0);var y=c.ccclass,S=c.property;t("UIManager",(M=y("UIManager"),A=S({type:u}),M((P=n((I=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return n=t.call.apply(t,[this].concat(o))||this,i(n,"authenticationPanel",P,a(n)),n.hasCheckAuth=!1,n.uiMap=new Map,n}e(n,t);var o=n.prototype;return o.update=function(){var t=d.muteMusic;this.node.parent.getComponent(r).volume=t?0:1},o.onLoad=function(){this.checkAuth(),d.initNakamaClient(),d.setAuthUIManager(this),this.initAuthenticationPanel(),d.isAuth||d.authUIManager.showUI([p.AuthenticationPanel]),d.muteMusic=f.getIsMusicMute()},o.initAuthenticationPanel=function(){var t=s(this.authenticationPanel);this.node.addChild(t);var n=t.getComponent(g);n.init(this),this.uiMap.set(p.AuthenticationPanel,n)},o.showUI=function(t){this.uiMap.forEach((function(n,e){t.indexOf(e)>-1?null==n||n.show():null==n||n.hide()}))},o.navigateStartScreen=function(){h.loadScene("start")},o.checkAuth=function(){
//!this.hasCheckAuth
d.isAuth&&(this.hasCheckAuth=!0,this.navigateStartScreen())},n}(l)).prototype,"authenticationPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataStorage.ts","./StaticInstance.ts"],(function(e){"use strict";var t,n,o,a,r,s,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.ProgressBar,r=e.director,s=e.Component},function(e){c=e.DataStorage},function(e){i=e.StaticInstance}],execute:function(){var l;n._RF.push({},"f552bZzBQlAG55Qlm7QECBL","UIManager",void 0);var u=o.ccclass;o.property,e("UIManager",u("UIManager")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).validToken=!1,t}t(n,e);var o=n.prototype;return o.update=function(){this.node.getComponent(a).progress<1&&(this.node.getComponent(a).progress+=.0075),i.donePreloading&&r.loadScene(this.validToken?"start":"auth")},o.onLoad=function(){var e=c.getAccessToken();this.node.getComponent(a).progress=.5,e&&(this.validToken=!0,console.log("-- No need to authenitcate --")),r.preloadScene(e?"start":"auth",this.finishScenePreloadCallback)},o.finishScenePreloadCallback=function(){i.donePreloading=!0,console.log("Next scene preloaded")},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.cclegacy,r=t._decorator}],execute:function(){var n;e._RF.push({},"69fb2eM4BlCnbQR155JIp9M","Utils",void 0);var i=r.ccclass;r.property,t("Utils",i("Utils")(n=function(){function t(){}return t.getDateAsString=function(t){var e=t.getDate(),r=t.getMonth()+1,n=t.getFullYear();return(e<10?"0":"")+e.toString()+"/"+(r<10?"0":"")+r.toString()+"/"+n},t.validateEmail=function(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},t}())||n);e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});